<html><head><style>/* Copyright 2019-2022 Smart Chain Arena LLC. */

:root {
  --primary: #006dcc;
  --primary-text-color: #212529;

  --background-color: #fafafa;
  --link-color: #01608c;
  --button-hover-color: #e8e8e8;
  --menu-bg-color: #f1f1f1;
  --border-color: #d3d3d3;

  --output-bgok: #f1f1fa;
  --output-bgko: #faf1f1;

  --danger-color: #dc3545;
  --dataColumn-color: #290075;
  --simulationBuilder-bg-color: #fffdeb;
  --tabcontentshow-bg-color: #ccffcc;

  --key-address-color: #006600;
  --timestamp-color: #6600aa;
  --code-type-color: #331188;
  --code-variable-color: #aa0000;
  --code-store-color: #0000aa;
  --code-constant-color: #000088;
  --code-cons-color: #0000aa;
  --code-comment-color: #006600;

  --button-bg-color: #006dcc;
  --button-font-color: #FFF;

  /* Wallet colors */
  --applied-op-color: #e8ffc2;
  --failed-op-color: #ffcfbf;
}

button.editor-menu-btn:not([disabled]):hover {
  color: var(--primary-text-color);
  background-color: var(--background-color);
}

button.editor-menu-btn:disabled,
button.editor-menu-btn:disabled:hover {
  opacity: 0.5;
  cursor: default;
  background-color: initial;
  text-decoration: none;
}

#outputPanel.empty-output {
  background: rgba(255, 255, 255, 0.9) url(../smartPY.only.transp.png) center/40% no-repeat;
  background-blend-mode: color;
}

#logo-image {
  background: url(../smartPY_horizon.transp.png) left/75% no-repeat;
}

#editor-link {
  background-image: url(../svgs/terminal.svg);
}

#wallet-link {
  background-image: url(../svgs/wallet-dark.svg);
}

#faucet-link {
  background-image: url(../svgs/faucet.svg);
}

#explorer-link {
  background-image: url(../svgs/search.svg);
}

#node_explorer-link {
  background-image: url(../svgs/search.svg);
}

#michelson-link {
  background-image: url(../svgs/stream.svg);
}

#help-link {
  background-image: url(../svgs/question.svg);
}

#origination-link {
  background-image: url(../svgs/stream.svg);
}

#ledger-img {
  background-image: url(../svgs/ledger-dark.svg);
  background-repeat: no-repeat;
}

@media (prefers-color-scheme: dark) {
  :root {
    --primary: #006dcc;
    --primary-text-color: #fafafa;

    --background-color: #212529;
    --link-color: #66aacc;
    --button-hover-color: slategray;
    --menu-bg-color: #05385c;
    --border-color: #d3d3d3;

    --output-bgok: #05364a;
    --output-bgko: #4a3605;

    --danger-color: #dc3545;
    --dataColumn-color: blanchedalmond;
    --simulationBuilder-bg-color: #444488;
    --tabcontentshow-bg-color: darkgreen;

    --key-address-color: chocolate;
    --timestamp-color: aqua;
    --code-type-color: magenta;
    --code-variable-color: khaki;
    --code-store-color: greenyellow;
    --code-constant-color: red;
    --code-cons-color: hotpink;
    --code-comment-color: chocolate;

    --button-bg-color: #FFF;
    --button-font-color: #000;
  }

  button.editor-menu-btn:not([disabled]):hover {
    color: var(--background-color);
    background-color: #e8e8e8;
  }

  .right-submenu button,
  .pretty-submenu button {
    background-color: var(--primary-text-color);
  }

  #outputPanel.empty-output {
    background: rgba(30, 30, 30, 0.8) url(../logo-transp.png) center/40% no-repeat;
    background-blend-mode: color;
  }

  #logo-image {
    background: url(../dm-logo.png) left/75% no-repeat;
  }

  .modal-content {
    background-color: var(--menu-bg-color);
  }

  /** Dark mode header icons*/
  #editor-link {
    background-image: url(../svgs/dm-terminal.svg);
  }

  #wallet-link {
    background-image: url(../svgs/wallet-dark.svg);
  }

  #faucet-link {
    background-image: url(../svgs/dm-faucet.svg);
  }

  #explorer-link {
    background-image: url(../svgs/dm-search.svg);
  }

  #node_explorer-link {
    background-image: url(../svgs/dm-search.svg);
  }

  #michelson-link {
    background-image: url(../svgs/dm-stream.svg);
  }

  #help-link {
    background-image: url(../svgs/dm-question.svg);
  }

  #origination-link {
    background-image: url(../svgs/dm-stream.svg);
  }
}

body,
html {
  height: 100%;
  padding: 0;
  margin: 0;
  color: var(--primary-text-color);
}

body {
  background-color: var(--background-color);
}

main {
  height: 100%;
  display: grid;
  grid-template-columns: 1fr 20px 1fr;
  grid-template-rows: max-content max-content minmax(1px, 1fr);
  grid-template-areas:
    'menu menu menu'
    'submenu submenu submenu'
    'editorDiv centerCol outputPanel';
}

button {
  border-radius: 3px;
  background-color: inherit;
  border-width: 1px;
  border-style: solid;
  border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186);
  color: inherit;
}

button[onclick]:hover,
button[data-toggle]:hover {
  cursor: pointer;
  background-color: var(--button-hover-color);
}

button.text-button {
  border: none;
  background-color: inherit;
  color: var(--link-color);
  text-align: left;
  padding-left: 0;
  padding-right: 0;
}

button.text-button:hover {
  text-decoration: underline;
  box-shadow: none;
  font-weight: bold;
}

button.text-button:active,
button.text-button:focus {
  outline: none;
  font-weight: bold;
}

/** Main Nav **/
header {
  position: fixed;
  width: 100%;
  background-color: var(--background-color);
  top: 0;
  z-index: 99999999999;
}

header .navbar-toggler {
  background-color: #fafafa; /** Note: same color in both light and dark mode */
}

.top-bar {
  display: flex;
  justify-content: space-between;
  border-bottom: 1px solid var(--menu-bg-color);
}

.logo {
  margin: 0.6em;
}

.logo img,
.logo div {
  height: 42px;
}

.logo a:hover {
  background-color: inherit !important;
}

.logo p {
  margin: -10px 0 0 40px;
  font-variant: small-caps;
  font-family: Verdana, sans-serif;
}

#mainNav .container {
  display: flex;
  justify-content: flex-end;
  padding-right: 0;
}

#mainNav .row {
  margin: 0 0 3px 0;
}

.nav-icon {
  height: 14px !important;
}

.nav-item {
  margin: 0 2px;
}

.nav-link {
  padding: 0.25rem 1rem;
}

.nav-link {
  color: inherit !important;
  opacity: 0.5;
}

.active {
  border-bottom: 2px solid var(--primary-text-color);
  opacity: 1;
}

.nav-link > div {
  display: flex;
  flex-direction: row;
  align-items: center;
}

.nav-link span {
  padding-right: 0.33rem;
}

.nav-icon {
  height: 14px;
  width: 14px;
  display: inline-flex;
  background-position: bottom;
  background-repeat: no-repeat;
  background-size: 14px;
}

/** End Main nav **/

/** Editor menus **/

.editor-nav {
  padding: 3px;
}

.editor-nav .dropdown {
  margin: 0 2px;
}

.dropdown-item.active,
.dropdown-item:active {
  background-color: var(--primary);
}

.dropdown-menu li {
  margin-bottom: 0;
}

button.editor-menu-btn {
  border: none;
  min-width: 4.1rem;
  color: inherit;
}

button.editor-menu-btn:hover {
  text-decoration: underline;
}

.submenu {
  grid-area: submenu;
  border: 1px solid var(--border-color);
  background-color: var(--menu-bg-color);
  padding: 2px 3px 3px 3px;
  margin: 0px;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  justify-content: flex-start;
}

.editor-nav > button {
  margin: 0px 2px;
}

.with-key-commands {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
}

.spacer {
  width: 8rem;
}

.right-submenu button,
.pretty-submenu button {
  margin: 0px 0.25rem;
  display: flex;
  align-items: center;
}

.right-submenu,
.pretty-submenu {
  display: inline-flex;
  margin: 0 3px;
}

.right-submenu {
  padding-left: 0rem;
}

.pretty-submenu button span {
  margin-left: 0.25rem;
}

#dynamicButtons > button {
  padding-bottom: 4px;
}
/** End Editor Menu **/

/** Editor layout **/
main,
#help,
#explorer,
#node_explorer,
#faucet,
#origination,
#faq,
#wallet {
  padding-top: 76px;
}

main.layout-side-by-side {
  grid-template-columns: 1fr 20px 1fr;
}

main.layout-output-only {
  grid-template-columns: 0 0 1fr;
}

main.layout-editor-only {
  grid-template-columns: 1fr 0 0;
}

main.layout-stacked {
  display: flex;
  flex-direction: column;
  overflow-y: scroll;
}

main.layout-side-by-side #outputPanel,
main.layout-output-only #outputPanel {
  display: block;
}

main.layout-editor-only #outputPanel {
  display: none;
}

main.layout-stacked #outputPanel,
main.layout-stacked #editorDiv {
  height: 50%;
  display: block;
}

/** End Editor layout **/

#editorDiv {
  grid-area: editorDiv;
  display: inline-block;
}

#centerCol {
  grid-area: centerCol;
  display: inline-block;
  background-color: var(--menu-bg-color);
  margin: 5px;
  padding: 0;
}

#outputPanel {
  grid-area: outputPanel;
  overflow: scroll;
  margin: 0px;
  padding: 5px;
  background-size: 40%;
  background-blend-mode: color;
}

#outputPanel.empty-output span {
  opacity: 0.5;
}

.operation {
  padding: 0.5rem;
  margin-top: 1rem;
  margin-bottom: 1rem;
}

#outputPanel .contract {
  padding: 0.5rem;
}

#outputPanel .execMessage {
  padding: 0.5rem;
}

#outputPanel .contract,
#outputPanel .execMessage {
  overflow-x: auto;
}

.menu {
  grid-area: menu;
  overflow: hidden;
  border: none;
  background-color: var(--menu-bg-color);
  padding: 10px 10px;
  margin: 0px;
}

.menu a {
  padding: 1px 10px;
}

#help,
#explorer,
#node_explorer,
#faucet,
#origination,
#faq,
#wallet {
  margin: 1rem 2rem;
}

/** Overwrite bootstrap modal lg max width **/
.modal-lg {
  max-width: 900px;
}

/** Overwrite bootstrap .close button color to work in dark mode **/
.close {
  color: var(--primary-text-color);
}

.selection{
    margin-left: 0px;
    margin-top: 2px;
    margin-bottom: 2px;
    margin-right: 2px;
    height: 30px;
    min-width: 100px;
}

.radio_selection{
    margin: 2px;
    height: 12px;
    width: 20px;
}

div.hidden {
  display: none;
}

div#terms {
  width: 80%;
  max-height: 60%;
}

div.on {
  margin-left: 20px;
  white-space: nowrap;
}

td.data {
  margin-left: 20px;
  padding-left: 20px;
}

input {
    width: 200px;
    height: 30px;
    font-size: 12px;
    margin: 2px;
}

.no-margin-list li {
  margin: 0;
}

td.dataColumn {
  margin-left: 20px;
  padding-left: 20px;
  color: var(--dataColumn-color);
}

div.simulationBuilder {
  border: 2px solid var(--border-color);
  padding-left: 5px;
  margin-bottom: 20px;
}

.steps {
  border: 2px solid var(--border-color);
  margin-left: 10px;
  margin-bottom: 10px;
  padding: 2px;
}

#outputPanel > div {
  border: 1px solid var(--border-color);
}

.contract,
.execMessageOK {
  background-color: var(--output-bgok);
}

.execMessageKO {
  background-color: var(--output-bgko);
}

/* div.python {
    border-left: 3px solid #aaaaaa;
    background-color: #ffeeee;
}
*/

/* .michelson {
    background-color: var(--output-bg);
} */

pre {
  color: inherit;
}

input.smallCheck {
  margin: 0px;
  padding: 0px;
  width: 15px;
}

textarea.smallMultilineArea {
  width: 100%;
  height: 400px;
  font-size: 15px;
  font-family: monospace;
}

#shareLink,
#loadLink {
  width: 100%;
  height: 300px;
  resize: vertical;
  font-size: 15px;
  font-family: monospace;
}

.resize_both {
    resize: both;
}

div.michelsonLine {
  padding-left: 2em;
  text-indent: -2em;
}

.white-space-pre,
.white-space-pre-wrap {
  font-family: monospace;
  white-space: pre;
  overflow-x: scroll;
}

.white-space-pre-wrap {
  white-space: pre-wrap;
}

div.message {
  border-left: 1px solid var(--border-color);
  background-color: #fafad2;
}
/* div.messageBox {
    float : left;
    background-color: #dddddd;
    padding : 3px;
    margin-right:5px;
} */

/* div.event {
    border-left: 1px solid #aaaaaa;
    background-color: #f6e1ff;
} */
/* div.eventBox {
    float : left;
    background-color: #dddddd;
    padding : 3px;
    margin-right:5px;
} */

/* div.scenario {
    background-color: #fdd598;
    padding-left : 30px;
    margin-right:15px;
} */

/* div.scenario1 {
    background-color: #fdd598;
    padding-left : 10px;
    margin-right:15px;
    border-left: 2px solid #444444;
    margin-left: 10px;
}

div.scenario2 {
    background-color: #d5fd98;
    padding-left : 10px;
    margin-right:15px;
    border-left: 2px solid #444444;
    margin-left: 10px;
}

div.scenario3 {
    background-color: #fd98d5;
    padding-left : 10px;
    margin-right:15px;
    border-left: 2px solid #444444;
    margin-left: 10px;
} */

div.error {
  border-left: 1px solid #aaaaaa;
  background-color: var(--output-bgko);
}

div.effect {
    border: 1px solid #cccccc;
    padding : 3px;
}

div.effectBox {
  float: left;
  background-color: #dddddd;
  padding: 3px;
}

div.transition {
  border-left: 3px solid #cccccc;
  background-color: #eeeeee;
  padding: 5px;
}

div.reset {
  clear: both;
}

div.subtype {
    margin-left: 1px;
    padding: 5px;
    border: 1px solid #eeeeee;
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
    border-bottom-right-radius: 5px;
    border-bottom-left-radius: 5px;
}

div.indent5 {
  padding-left: 0ex;
}

a {
  color: var(--link-color);
  background-color: inherit;
  text-decoration: none;
  border: none;
  outline: none;
  cursor: pointer;
  transition: 0.3s;
  margin: 0px;
}

a[href]:hover {
  background-color: var(--button-hover-color);
  color: var(--primary-text-color);
}

a.active {
  font-weight: bold;
}

a:not([href]):not([tabindex]):focus,
a:not([href]):not([tabindex]):hover {
  cursor: default;
}

/* Mozilla-specific padding fix */
@-moz-document url-prefix() {
  .submenu {
    padding-top: 3px;
    margin-bottom: 1px;
  }
}

.execMessageAlice {
  margin-right: 10%;
}

.execMessageBob {
  margin-left: 10%;
}

.form-header {
  border: 1px solid var(--border-color);
  background-color: var(--menu-bg-color);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 20px;
  font-family: monospace;
  border-radius: 0.3rem 0.3rem 0 0;
  padding: 0.3rem;
}

.form-body {
  border: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 80px;
  font-family: monospace;
  padding: 0 0.3rem 0.3rem 0.3rem;
  margin-block-end: 0;
}

.form-error {
  border: 1px solid var(--border-color);
  background-color: var(--danger-color);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 10px;
  font-family: monospace;
  border-radius: 0 0 0.3rem 0.3rem;
  padding: 0.2rem;
  margin-bottom: 0.3rem;
}

.form-footer {
  border: 1px solid var(--border-color);
  background-color: var(--menu-bg-color);
  display: flex;
  justify-content: flex-end;
  align-items: center;
  min-height: 20px;
  font-family: monospace;
  border-radius: 0 0 0.3rem 0.3rem;
  padding: 0.3rem;
  padding-right: 50px;
}

.tab {
  overflow: hidden;
  border: 1px solid var(--border-color);
  background-color: var(--menu-bg-color);
}

/* Style the buttons that are used to open the tab content */
.tab .title {
  float: left;
  padding: 10px;
}

.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 7px 10px;
  transition: 0.3s;
  opacity: 0.6;
  margin: 3px;
}

button.button {
  background-color: var(--button-bg-color);
  border: none;
  outline: none;
  cursor: pointer;
  padding: 5px 10px;
  transition: 0.3s;
  opacity: 0.7;
  color: var(--button-font-color);
  margin: 2px;
}

button.button:hover {
  background-color: var(--button-bg-color);
  opacity: 1;
}

.tab button:hover,
.tab button.active {
  background-color: var(--button-hover-color);
  opacity: 1;
}

/* Style the tab content */
.tabs {
  margin-bottom: 1rem;
  border: 1px solid var(--border-color);
}
.tabcontentalways {
  padding: 6px 12px;
  border-top: none;
}
.tabcontent {
  padding: 6px 12px;
  border-top: none;
}
.tabcontentshow {
  background-color: tabcontenshow-bg-color;
  display: block;
  padding: 6px 12px;
  border: 1px solid #cccccc;
  border-top: none;
}

.explorer_button {
  margin-top: 5px;
  margin-bottom: 5px;
}

.node_explorer_button {
  margin-top: 5px;
  margin-bottom: 5px;
}

.explorer_button,
.node_explorer_button,
.centertextbutton
{
  text-decoration: none;
  color: var(--link-color);
  background-color: inherit;
  border: 1px solid var(--link-color);
  margin-right: 5px;
  margin-left: 5px;
  border-radius: 5px;
  line-height: 1.1rem;
  height: 30px;
  vertical-align: middle;
}

.extramarginbottom {
  margin-bottom: 5px;
}

.centertextbutton[onclick]:hover {
  background-color: #f1f1f1; /** intentionally always the same color */
  cursor: pointer;
}

.centertextbutton:not([onclick]):hover {
  cursor: default;
}
input[type='checkbox']:hover {
  cursor: pointer;
}

input[type="checkbox"] {
    margin-top: 2px;
    height: 20px;
    width: 20px;
}

input[type="text"] {
    margin: 2px;
}

#storageDiv {
}

#storageDivInternal {
  overflow: auto;
  max-height: 500px;
  padding-bottom:10px;
}

#storageAddressesDiv {
  overflow: auto;
  max-height: 400px;
}

.recordList {
    border-collapse: collapse;
    margin: 2px;
}

.recordList th {
  color: #880000;
  border-collapse: collapse;
}

.recordList td {
    padding: 1px;
    border: 1px solid var(--primary-text-color);
    border-style: solid;
    vertical-align: top;
    padding: 5px;
}

.bytes {
  margin: 2px;
  max-width: 120px;
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
  color: var(--code-store-color);
  text-overflow: ellipsis;
  font-family: monospace;
}

.key {
  margin: 2px;
  width: 120px;
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
  color: var(--key-address-color);
  text-overflow: ellipsis;
  font-family: monospace;
}

.signature {
  margin: 2px;
  width: 120px;
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
  color: #44aaaa;
  text-overflow: ellipsis;
  font-family: monospace;
}

.address {
  margin: 2px;
  width: 120px;
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
  color: var(--key-address-color);
  text-overflow: ellipsis;
  font-family: monospace;
}

.timestamp {
  margin: 2px;
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
  color: var(--timestamp-color);
  text-overflow: ellipsis;
  font-family: monospace;
}

.mutez {
  margin: 2px;
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
  color: #66aa00;
  text-overflow: ellipsis;
  font-family: monospace;
}

#contractId {
  width: 300px;
  font-family: monospace;
}

#accountId {
  width: 300px;
  font-family: monospace;
}

#providerId {
  width: 300px;
  font-family: monospace;
}

.preview {
  min-height: 100px;
  overflow: scroll;
  border: 1px solid black;
  font-family: monospace;
  border-radius: 0.3rem;
  padding: 0.3rem;
}

.protocolBox {
  border: 1px solid #ccc;
  padding: 2px;
  margin-top: 2px;
  margin-bottom: 2px;
  border-radius: 5px;
}

.input-error {
  color: var(--danger-color);
  text-align: center;
}

.load-contract {
  display: flex;
  flex-direction: column;
  margin-bottom: 2px;
}

.load-contract button {
  margin: 0.3rem 0;
  padding: 0.3rem 0.5rem;
  align-self: flex-start;
}

@media (max-width: 568px) {
  #help,
  #explorer,
  #node_explorer,
  #faucet,
  #origination,
  #faq,
  #wallet {
    margin: 1rem 0.5rem;
  }
  .right-submenu {
    padding-left: 0.5rem;
    border-left: none;
  }
  .spacer {
    width: 5rem;
  }
}

span.fieldName {
  display: inline-block;
  color: #444488;
  min-width: 100px;
}

/**
    * Code Highlighting
    **/
span.channel {
  color: #8888ff;
}

span.type {
  color: var(--code-type-color);
}

span.partialType {
  color: #ff4444;
}

span.variable {
  color: var(--code-variable-color);
}

span.store {
  color: var(--code-store-color);
}

span.param {
  color: #888800;
}

span.variable {
  color: #008800;
}

span.keyword {
  color: #bb4488;
}

span.conditions {
  color: #55aa55;
}

span.constant {
  color: var(--code-constant-color);
}

span.cons {
  color: #0000aa;
}

span.record {
  color: #4288aa;
}

span.conditions span {
  color: #55aa55;
}

span.gas {
  color: orange;
}

span.analysis {
  color: orange;
}

span.self {
  color: #0099aa;
}

span.comment {
  color: var(--code-comment-color);
}

span.stack {
  color: #0088aa;
}

span.ctt {
  color: lightblue;
}

code,
span.command {
  background-color: hsla(0, 0%, 0%, 0.04);
  color: #444488;
}

/* Ledger */
.ledger-icon {
  height: 20px;
  margin-top: 5px;
  background-repeat: no-repeat;
}

/* Wallet Styles */
.applied-op-bg {
  background-color: var(--applied-op-color);
}

.failed-op-bg {
  background-color: var(--failed-op-color);
}

.inputSection {
  display: flex;
  justify-content: space-between;
  align-content: space-between;
  align-items: center;
  width: 300px;
}

select {
  font-size: 16px;
  font-family: sans-serif;
  color: #444;
  line-height: 1.3;
  padding: .3em 2em .2em .8em;
  box-sizing: border-box;
  margin: 5px;
  border: 1px solid #aaa;
  box-shadow: 0 1px 0 1px rgba(0,0,0,.04);
  border-radius: .5em;
  -moz-appearance: none;
  -webkit-appearance: none;
  appearance: none;
  background-color: #fff;
  background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'), linear-gradient(to bottom, #ffffff 0%,#e5e5e5 100%);
  background-repeat: no-repeat, repeat;
  /* arrow icon position (1em from the right, 50% vertical) , then gradient position*/
  background-position: right .7em top 50%, 0 0;
  /* icon size, then gradient */
  background-size: .65em auto, 100%;
}
.select::-ms-expand {
  display: none;
}
.select:hover {
  border-color: #888;
}
.select:focus {
  border-color: #aaa;
  box-shadow: 0 0 1px 3px rgba(59, 153, 252, .7);
  box-shadow: 0 0 0 3px -moz-mac-focusring;
  color: #222;
  outline: none;
}
.select option {
  font-weight:normal;
}
.select:disabled:hover, select[aria-disabled=true] {
  border-color: #aaa;
}

.loader {
  border: 16px solid #f3f3f3;
  border-radius: 50%;
  border-top: 16px solid #3498db;
  width: 120px;
  height: 120px;
  -webkit-animation: spin 2s linear infinite; /* Safari */
  animation: spin 2s linear infinite;
  margin: auto;
  margin-bottom: 20px;
}

/* Beacon & Temple Styles */
.flexRow {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  align-content: center;
  background-color: var(--button-hover-color);
  padding: 10px;
}

/* Safari */
@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
/* latin-ext */
@font-face {
  font-family: 'Lato';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjxAwXiWtFCfQ7A.woff2) format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113,
    U+2C60-2C7F, U+A720-A7FF;
}

/* latin-ext */
@font-face {
  font-family: 'Lato';
  font-style: normal;
  font-weight: 700;
  src: url(https://fonts.gstatic.com/s/lato/v16/S6u9w4BMUTPHh6UVSwaPGQ3q5d0N7w.woff2)
    format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113,
    U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Lato';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wXiWtFCc.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F,
    U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
/* latin */
@font-face {
  font-family: 'Lato';
  font-style: normal;
  font-weight: 700;
  src: url(https://fonts.gstatic.com/s/lato/v16/S6u9w4BMUTPHh6UVSwiPGQ3q5d0.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F,
    U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

html,
body {
  font-size: 16px;
  font-family: Lato, sans-serif;
  font-weight: 400;
}

h1,
h2,
h3,
h4,
p,
li {
  margin-left: 0;
  margin-right: 0;
  margin-top: 0;
  padding-bottom: 0;
  padding-left: 0;
  padding-right: 0;
  padding-top: 0;
}

li {
  margin-bottom: 0.5rem;
}

h1,
h2,
h3,
h4 {
  /* color: hsla(0, 0%, 0%, 0.8); */
  font-family: Lato, sans-serif;
  font-weight: 700;
  text-rendering: optimizeLegibility;
}

h1 {
  font-size: 2rem;
  line-height: 2.415rem;
}

h2 {
  font-size: 1.51572rem;
  line-height: 2.415rem;
}

h3 {
  font-size: 1.31951rem;
  line-height: 1.61rem;
}

h4 {
  font-size: 1rem;
}

td.pad10 {
  padding-left: 10px;
  padding-right: 10px;
}

td.code_right {
  text-align: right;
  font-family: monospace;
}

code,
span.command {
  font-size: 0.88rem;
  line-height: 1.61rem;

  border-radius: 3px;
  font-family: monospace;
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
}

.page-title {
  text-align: center;
  margin: 1rem 0 2.5rem 0;
}

/**
  * Output Typography
  **/
#outputPanel .execMessage *,
#outputPanel .tabcontent *,
#types {
  font-size: 0.9375rem;
  line-height: 1.1em;
}

#outputPanel .execMessage h1,
#outputPanel .tabcontent h1 {
  font-size: 1.5rem;
  font-weight: normal;
  margin-bottom: 0;
}

#outputPanel .execMessage h2,
#outputPanel .tabcontent h2 {
  font-size: 1.3rem;
  font-weight: normal;
  margin-bottom: 0.2em;
}

#outputPanel .execMessage h3,
#outputPanel .tabcontent h3 {
  font-size: 1.1rem;
  font-weight: normal;
  margin-bottom: 0.2em;
}

#outputPanel .execMessage h4,
#outputPanel .tabcontent h4 {
  font-size: 1rem;
  font-weight: normal;
  margin-bottom: 0.2em;
}

#types .type,
#outputPanel .type,
.python,
#outputPanel .python,
.michelson,
#outputPanel .michelson,
#outputPanel .on {
  font-family: monospace;
  font-size: 0.9375rem;
}

.dataColumn,
.code {
  font-family: monospace;
}
button{font-size:inherit;}</style><script src='https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script><script>// Copyright 2019-2022 Smart Chain Arena LLC.

function copyMichelson(x) {
    var range = document.createRange();
    var children = x.parentNode.parentNode.childNodes;
    children.forEach(function (child) {
        if (child.nodeType != Node.TEXT_NODE) {
            if (child.className.includes('michelson')) {
                range.selectNode(child);
                console.log(child);
                window.getSelection().removeAllRanges();
                window.getSelection().addRange(range);
                document.execCommand('copy');
            }
        }
    });
}

function copyMichelsonTextArea(x) {
    document.getElementById(x).select();
    document.execCommand('copy');
}

function openTabLazy(evt, id, global_id) {
    var i, tabcontent, tablinks;

    tabcontent = evt.currentTarget.parentNode.parentNode.childNodes;
    for (i = 0; i < tabcontent.length; i++) {
        if (tabcontent[i].className == 'tabcontent') tabcontent[i].style.display = 'none';
    }
    tablinks = evt.currentTarget.parentNode.childNodes;
    for (i = 0; i < tablinks.length; i++) {
        if (tablinks[i].nodeType != Node.TEXT_NODE) {
            tablinks[i].className = tablinks[i].className.replace(' active', '');
        }
    }
    tablinks = evt.currentTarget.parentNode.parentNode.childNodes;
    k = 0;
    for (i = 0; i < tablinks.length; i++) {
        if (tablinks[i].nodeType != Node.TEXT_NODE) {
            if (id + 1 == k) {
                tablinks[i].style.display = 'block';
                lazy_tab = window.smartmlCtx.call_exn_handler('lazy_tab', id, global_id);
                if (lazy_tab) tablinks[i].innerHTML = lazy_tab;
            }
            k += 1;
        }
    }

    evt.currentTarget.className += ' active';
}

function openTab(evt, name) {
    var i, tabcontent, tablinks;

    tabcontent = evt.currentTarget.parentNode.parentNode.childNodes;
    for (i = 0; i < tabcontent.length; i++) {
        if (tabcontent[i].className == 'tabcontent') tabcontent[i].style.display = 'none';
    }
    tablinks = evt.currentTarget.parentNode.childNodes;
    for (i = 0; i < tablinks.length; i++) {
        if (tablinks[i].nodeType != Node.TEXT_NODE) {
            tablinks[i].className = tablinks[i].className.replace(' active', '');
        }
    }
    tablinks = evt.currentTarget.parentNode.parentNode.childNodes;
    k = 0;
    for (i = 0; i < tablinks.length; i++) {
        if (tablinks[i].nodeType != Node.TEXT_NODE) {
            if (name + 1 == k) tablinks[i].style.display = 'block';
            k += 1;
        }
    }

    evt.currentTarget.className += ' active';
}

function initDefaultButtons() {
    var defaults = document.getElementsByName('button_default');
    var i;
    for (i = 0; i < defaults.length; i++) {
        defaults[i].click();
    }
}

function ppInvocationResult(result) {
    var returnMessage = '';
    var originatedContract = '';
    var hasError = false;
    try {
        console.log('Results:');
        console.log(result);
        if (result.hasOwnProperty('results')) {
            result = result['results'];
        }
        if (result.hasOwnProperty('response')) {
            result = JSON.parse(result['response']);
        }
        if (result.hasOwnProperty('errors')) {
            return result.errors;
        }
        if (Array.isArray(result) && result.length == 1) {
            result = result[0];
        }
        if (result.hasOwnProperty('contents')) {
            var contents = result['contents'];
            contents.forEach(function (content) {
                var metadata = content.metadata;
                var operation_result = metadata.operation_result;
                var status = operation_result['status'];
                returnMessage += 'Status: ' + status + '\n';
                if (status == 'failed' || status == 'backtracked') {
                    hasError = true;
                    operation_result.errors.forEach(function (error) {
                        returnMessage += '\nError: ' + error.id;
                        if (error['id'].endsWith('script_rejected')) {
                            try {
                                returnMessage += '\n   ' + error['with'].string;
                            } catch (__error) {
                                console.log(error);
                            }
                        }
                        if (error['id'].endsWith('invalid_contract_notation')) {
                            try {
                                returnMessage += '\n   ' + error['notation'];
                            } catch (__error) {
                                console.log(error);
                            }
                        }
                        if (error['id'].endsWith('storage_exhausted.operation')) {
                            returnMessage += '  \n   (please increase storage limit)';
                        }
                    });
                }
                try {
                    operation_result.originated_contracts.forEach(function (originated) {
                        originatedContract = originated;
                        returnMessage += '  \n\nOriginatedContract: ' + originated;
                    });
                } catch (__error) {
                    hasError = true;
                }
            });
        } else if (result.hasOwnProperty('kind') && result.hasOwnProperty('id')) {
            hasError = true;
            returnMessage += 'Error: ' + result['id'];
        }
    } catch (error) {
        console.log(error);
        hasError = true;
        returnMessage += '\n(Error while parsing result)';
    }

    returnMessage += '\n\n\nDetails:\n\n' + JSON.stringify(result, null, 2);
    return { message: returnMessage, contract: originatedContract, hasError: hasError };
}

class SmartmlCtx {
    constructor() {}
    call(f, ...rest) {
        try {
            return exports[f](...rest);
        } catch (error) {
            var result = 0;
            try {
                result = this.call('stringOfException', true, error);
            } catch (_error) {
                throw error;
            }
            if (typeof window.toException === 'function' && !window.location.pathname.includes('ts-ide'))
                throw toException(result);
            else throw result;
        }
    }
    call_exn(f, ...rest) {
        return exports[f](...rest);
    }
    call_exn_handler(f, ...rest) {
        try {
            return exports[f](...rest);
        } catch (error) {
            try {
                var result = '';
                try {
                    result = this.call('stringOfException', false, error);
                } catch (_error) {
                    showErrorPre(error);
                }
                console.log(result);
                showErrorPre(result);
            } catch (_error) {
                showErrorPre(error);
            }
        }
    }
}

class SmartmlJS {
    constructor(contract) {
        this.ctx = new SmartmlCtx();
        this.time = 0;
        if (contract != null) {
            //console.log(contract);
            //console.log(contract.exp);
            this.contract = this.ctx.call('importContract', contract.exp());
        }
    }

    smartpy() {
        return this.ctx.call('string_of_contract', this.contract);
    }
    string_of_value(s) {
        return this.ctx.call('string_of_value', s);
    }
    html(self) {
        return this.ctx.call('htmlContract', this.contract);
    }
    fullHtml() {
        var def = 'Stripped';
        var onlyDefault = false;
        return this.ctx.call('fullHtmlContract', def, onlyDefault, this.contract);
    }
    messageEffects(result) {
        return this.ctx.call('messageEffects', result);
    }
    messageHtml(result) {
        return this.ctx.call('messageHtml', result);
    }
    messageErrors(result) {
        return this.ctx.call('messageErrors', result);
    }
    messageContract(message) {
        return this.ctx.call('messageContract', message);
    }
    listLength(l) {
        return this.ctx.call('List.length', l);
    }
    listNth(l, n) {
        return this.ctx.call('List.nth', l, n);
    }
    list_to_ocaml(l) {
        result = this.ctx.call('list.[]');
        for (var x in reversed(l)) {
            result = this.ctx.call('list.append', x, result);
        }
        return result;
    }
    list(l) {
        r = range(0, this.listLength(l));
        return r.map((i) => this.listNth(l, i));
    }
    ocamlString(s) {
        return this.ctx.call('string', s);
    }
    of_ocamlString(s) {
        return this.ctx.call('of_ocamlString', s);
    }
    pair(l1, l2) {
        return this.ctx.call('pair', l1, l2);
    }
    list_empty(self) {
        return this.ctx.call('list.[]');
    }
    list_unit(x) {
        return this.ctx.call('list.unit', x);
    }
    list_concat(l1, l2) {
        return this.ctx.call('list.concat', l1, l2);
    }
    importValue(value) {
        if (isinstance(value, str)) return this.importSimpleValue('string', value);
        if (isinstance(value, int)) return this.importSimpleValue('int', str(value));
        if (isinstance(value, Record)) return this.ctx.call('importValue', value.export());
        if (isinstance(value, SpExpr)) return this.ctx.call('importValue', value.export());
        throw 'Unsupported type for value ${value}';
    }
    importSimpleValue(t, s) {
        return this.ctx.call('importSimpleValue', t, s);
    }
    getVariableType(name) {
        return SmartmlType(this.ctx.call('getVariableType', this.contract, name));
    }
    setTime(time) {
        this.time = time;
        return 'Setting time to [%s].<br>' % time;
    }
    //     execMessage(message, sender = "", **kargs){
    //         kargs_values = [(name, this.importValue(x)) for (name, x) in sorted(kargs.items())]
    //         kargs_values_pp = [(name, this.string_of_value(x)) for (name, x) in kargs_values]
    //         kargs_ml = this.list_empty()
    //         for (name, value) in kargs_values:
    //             kargs_ml = this.list_concat(kargs_ml, this.list_unit(this.pair(this.ocamlString(name), value)))
    //         result = this.ctx.call("execMessage", sender, this.time, this.contract, message, kargs_ml)
    //         errors = this.messageErrors(result)
    //         errors = [this.of_ocamlString(x) for x in this.list(errors)]
    //         effects = this.messageEffects(result)
    //         effects = [this.of_ocamlString(x) for x in this.list(effects)]
    //         if len(errors) == 0:
    //             this.contract = this.messageContract(result)
    //                 return ExecMessage(this.messageHtml(result), errors, effects);
    //                 }
    ppMich(mich, indent) {
        return this.ctx.call('mich.pp', indent, mich);
    }
    ppMichStorage(mich, indent = '') {
        return this.ctx.call('mich.ppStorage', indent, mich);
    }
    ppMichStorageHtml(storage, t) {
        return this.ctx.call('mich.htmlStorage', storage, t);
    }
    ppMichInfos(address, balance, counter, manager, spendable) {
        return this.ctx.call('mich.htmlInfos', address, balance, counter, manager, spendable);
    }
    ppMichStorageType(storageType) {
        return this.ctx.call('mich.htmlType', storageType);
    }
    parseMich(code) {
        if (isinstance(code, str)) return this.ctx.call('mich.string', code);
        if (hasattr(code, 'int')) return this.ctx.call('mich.int', code.int);
        if (hasattr(code, 'string')) return this.ctx.call('mich.string', code.string);
        if (!hasattr(code, 'prim')) {
            //#alert(str(code) + " " + str(dir(code)))
            seq = code.map((c) => this.parseMich(c));
            seq = this.list_to_ocaml(seq);
            return this.ctx.call('mich.sequence', seq);
        }
        if (hasattr(code, 'args')) args = code.args.map((arg) => this.parseMich(arg));
        else args = [];
        argsML = this.list_to_ocaml(args);
        if (hasattr(code, 'annots')) {
            annots = code.annots;
            window.console.log(annots);
        } else {
            annots = [];
        }
        annots = this.list_to_ocaml(annots.map((x) => this.ocamlString(x)));
        return this.ctx.call('mich.primitive', code.prim, annots, argsML);
    }
    static hashString(s) {
        return hashed(window.smartmlCtx.call('hashString', s));
    }
}

smartmlCtx = new SmartmlCtx();
in_browser = true;
function buildSmartlmJS(x) {
    return new SmartmlJS(x);
}
// Copyright 2019-2022 Smart Chain Arena LLC.

/** Set light/dark mode based on user preferences */
$(document).ready(() => {
    if (window) {
        setThemeClass(window.localStorage.getItem('theme', 'light'));
    }
});

// Define a new stylesheet for the theme's custom rules
const sheet = (function () {
    // Create the <style> tag
    const style = document.createElement('style');

    // WebKit hack :(
    style.appendChild(document.createTextNode(''));

    // Add the <style> element to the page
    document.head.appendChild(style);

    return style.sheet;
})();

// Replace non-root rules in custom stylesheet
const replaceRules = (rules) => {
    for (let i = 0; i < sheet.rules.length; i++) {
        sheet.deleteRule(i);
    }
    sheet.insertRule(`@media all {${rules}}`);
};

const activateDarkMode = () => {
    const rootElement = document.querySelector(':root');
    const darkTheme = {
        '--primary': '#006dcc',
        '--primary-text-color': '#fafafa',

        '--background-color': '#212529',
        '--link-color': '#66AACC',
        '--button-hover-color': 'slategray',
        '--menu-bg-color': '#05385C',
        '--border-color': '#D3D3D3',

        '--output-bgok': '#05364a',
        '--output-bgko': '#4a3605',

        '--danger-color': '#dc3545',
        '--dataColumn-color': 'blanchedalmond',
        '--simulationBuilder-bg-color': '#444488',
        '--tabcontentshow-bg-color': 'darkgreen',

        '--key-address-color': 'chocolate',
        '--timestamp-color': 'aqua',
        '--code-type-color': 'magenta',
        '--code-variable-color': 'khaki',
        '--code-store-color': 'greenyellow',
        '--code-constant-color': 'red',
        '--code-cons-color': 'hotpink',
        '--code-comment-color': 'chocolate',

        '--button-bg-color': '#FFF',
        '--button-font-color': '#000',

        /* Wallet colors */
        '--applied-op-color': '#94b84d',
        '--failed-op-color': '#d16864',
    };

    const darkRules = `
    button.editor-menu-btn:not([disabled]):hover {
        color: var(--background-color);
        background-color: #e8e8e8;
    }

    .right-submenu button,
    .pretty-submenu button {
        background-color: var(--primary-text-color);
    }

    #outputPanel.empty-output {
        background: rgba(30, 30, 30, .8) url(logo-transp.png) center/40% no-repeat;
        background-blend-mode: color;
    }

    #logo-image {
        background: url(dm-logo.png) left/75% no-repeat;
    }

    .modal-content {
        background-color: var(--menu-bg-color);
    }

    /** XXX: url of svgs is different here than from stylesheet */
    #editor-link {
        background-image: url(./svgs/dm-terminal.svg);
    }

    #wallet-link {
        background-image: url(./svgs/wallet-light.svg);
    }

    #faucet-link {
        background-image: url(./svgs/dm-faucet.svg);
    }

    #explorer-link {
        background-image: url(./svgs/dm-search.svg);
    }

    #node_explorer-link {
        background-image: url(./svgs/dm-search.svg);
    }

    #michelson-link {
        background-image: url(./svgs/dm-stream.svg);
    }

    #origination-link {
        background-image: url(./svgs/dm-stream.svg);
    }

    #help-link {
        background-image: url(./svgs/dm-question.svg);
    }

    #ledger-img {
        background-image: url(./svgs/ledger-light.svg);
        background-repeat: no-repeat;
    }
    `;

    for (let k in darkTheme) {
        rootElement.style.setProperty(k, darkTheme[k]);
    }

    replaceRules(darkRules);
};

const activateLightMode = () => {
    const rootElement = document.querySelector(':root');
    const lightTheme = {
        '--primary': '#006dcc',
        '--primary-text-color': '#212529',

        '--background-color': '#fafafa',
        '--link-color': '#01608C',
        '--button-hover-color': '#e8e8e8',
        '--menu-bg-color': '#f1f1f1',
        '--border-color': '#D3D3D3',

        '--output-bgok': '#f1f1fa',
        '--output-bgko': '#faf1f1',

        '--danger-color': '#dc3545',
        '--dataColumn-color': '#290075',
        '--simulationBuilder-bg-color': '#f0fde1',
        '--tabcontentshow-bg-color': '#ccffcc',

        '--key-address-color': '#006600',
        '--timestamp-color': '#6600AA',
        '--code-type-color': '#331188',
        '--code-variable-color': '#aa0000',
        '--code-store-color': '#0000aa',
        '--code-constant-color': '#000088',
        '--code-cons-color': '#0000aa',
        '--code-comment-color': '#006600',

        '--button-bg-color': '#006dcc',
        '--button-font-color': '#FFF',

        /* Wallet colors */
        '--applied-op-color': '#e8ffc2',
        '--failed-op-color': '#ffcfbf',
    };

    const lightRules = `button.editor-menu-btn:not([disabled]):hover {
        color: var(--primary-text-color);
        background-color: var(--background-color);
    }

    .right-submenu button,
    .pretty-submenu button {
        background-color: inherit;
    }

    #outputPanel.empty-output {
        background: rgba(255, 255, 255, .9) url(smartPY.only.transp.png) center/40% no-repeat;
        background-blend-mode: color;
    }

    #logo-image {
        background: url(smartPY_horizon.transp.png) left/75% no-repeat;
    }

    .modal-content {
        background-color: #fff;
    }

    /** XXX: url of svgs is different here than from stylesheet */
    #editor-link {
        background-image: url(./svgs/terminal.svg);
    }

    #wallet-link {
        background-image: url(./svgs/wallet-dark.svg);
    }

    #faucet-link {
        background-image: url(./svgs/faucet.svg);
    }

    #explorer-link {
        background-image: url(./svgs/search.svg);
    }

    #node_explorer-link {
        background-image: url(./svgs/search.svg);
    }

    #michelson-link {
        background-image: url(./svgs/stream.svg);
    }

    #origination-link {
        background-image: url(./svgs/stream.svg);
    }

    #help-link {
        background-image: url(./svgs/question.svg);
    }

    #ledger-img {
        background-image: url(./svgs/ledger-dark.svg);
        background-repeat: no-repeat;
    }
    `;

    for (let k in lightTheme) {
        rootElement.style.setProperty(k, lightTheme[k]);
    }

    replaceRules(lightRules);
};

const setThemeClass = (theme) => {
    if (theme === 'dark') {
        activateDarkMode();
    } else {
        activateLightMode();
    }
};
</script></head><body><div id='outputPanel'><span id='label0'></span>
<h1>FA2 Contract Name: FA2-nft-no_totsup</h1>

<p><li><a href='#label0'>FA2 Contract Name: FA2-nft-no_totsup</a><ul><li><a href='#label2'>Accounts</a><li><a href='#label5'>Initial Minting</a><li><a href='#label9'>Transfers Alice -> Bob</a><li><a href='#label16'>More Token Types</a><li><a href='#label19'>Other Basic Permission Tests</a><ul><li><a href='#label20'>Bob cannot transfer Alice's tokens.</a><li><a href='#label22'>Admin can transfer anything.</a><li><a href='#label24'>Even Admin cannot transfer too much.</a><li><a href='#label26'>Consumer Contract for Callback Calls.</a></ul><li><a href='#label29'>Balance-of.</a><li><a href='#label31'>Operators</a><ul><li><a href='#label35'>Operator Accounts</a></ul></ul></p>

<span id='label2'></span>
<h2>Accounts</h2>

<div class='execMessage'><table class='recordList'><tr><td class='dataColumn'>Seed</td>
<td class='dataColumn'>Address</td>
<td class='dataColumn'>Public_key</td>
<td class='dataColumn'>Public_key_hash</td>
<td class='dataColumn'>Secret_key</td></tr><tr><td class='data'>'Administrator'</td><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><span class='key'>edpktzrjdb1tx6dQecQGZL6CwhujWg1D2CXfXWBriqtJSA6kvqMwA2</span></td><td class='data'><span class='key'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><span class='key'>edskRqFp3Z9AqoKrMNFb9bnWNwEsRzbjqjBhzmFMLF9UqB6VBmw7F8ppTiXaAnHtysmi6xFxoHf6rMUz6Y1ipiDz2EgwZQv3pa</span></td></tr>
<tr><td class='data'>'Alice'</td><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='key'>edpkuvNy6TuQ2z8o9wnoaTtTXkzQk7nhegCHfxBc4ecsd4qG71KYNG</span></td><td class='data'><span class='key'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='key'>edskRijgcXx8gzqkq7SCBbrb6aDZQMmP6dznCQWgU1Jr4qPfJT1yFq5A39ja9G4wahS8uWtBurZy14Hy7GZkQh7WnopJTKtCQG</span></td></tr>
<tr><td class='data'>'Robert'</td><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='key'>edpkvThfdv8Efh1MuqSTUk5EnUFCTjqN6kXDCNXpQ8udN3cKRhNDr2</span></td><td class='data'><span class='key'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='key'>edskRiaffUWqB9zgaEhuX6EmejbLzk2xcpSEXLv3G4cDfcbY75c71ASyGnFHXuaTAVMPt2bJLGGye1gm24oBmAc2k5VDHHo5Ua</span></td></tr></table></div>

<div class='tabs'><div class='tab'><span class='title'>Contract</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>SmartPy</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Types</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>Deploy Michelson Contract</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 3);'>Metadata</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 4);'>&times;</button></div><div class='tabcontent' style='display: block;'><div class='contract'><h3>New contract: <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3>
<h3>Storage:</h3>
<div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr></table></td></tr></table></div>
<h3>Code:</h3>
import smartpy as sp
<br>
<br>class Contract(sp.Contract):
<br><div class='on'><span class='keyword'>def</span> __init__(self)<span class='keyword'>:</span><div class='indent5'>&nbsp;&nbsp;self.init_type(sp.TRecord(administrator = sp.TAddress, all_tokens = sp.TNat, ledger = sp.TBigMap(sp.TPair(sp.TAddress, sp.TNat), sp.TRecord(balance = sp.TNat).layout("balance")), metadata = sp.TBigMap(sp.TString, sp.TBytes), operators = sp.TBigMap(sp.TRecord(operator = sp.TAddress, owner = sp.TAddress, token_id = sp.TNat).layout(("owner", ("operator", "token_id"))), sp.TUnit), paused = sp.TBool, token_metadata = sp.TBigMap(sp.TNat, sp.TRecord(token_id = sp.TNat, token_info = sp.TMap(sp.TString, sp.TBytes)).layout(("token_id", "token_info")))).layout((("administrator", ("all_tokens", "ledger")), (("metadata", "operators"), ("paused", "token_metadata")))))</div>
<div class='indent5'>&nbsp;&nbsp;self.init(<span class='variable'>administrator</span> = sp.address('tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w'),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='variable'>all_tokens</span> = 0,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='variable'>ledger</span> = {},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='variable'>metadata</span> = {'' : sp.bytes('0x68747470733a2f2f6578616d706c652e636f6d')},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='variable'>operators</span> = {},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='variable'>paused</span> = False,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='variable'>token_metadata</span> = {})</div></div><br>
<br><div class='on'>
  @sp.entry_point
<br><span class='keyword'>def</span> balance_of(<span class='self'>self</span>, params)<span class='keyword'>:</span><br><div class='indent5'>&nbsp;&nbsp;sp.verify(~ <span class='self'>self</span>.data.paused, <span class='constant'>'FA2_PAUSED'</span>)
<br>&nbsp;&nbsp;sp.set_type(params, sp.TRecord(callback = sp.TContract(sp.TList(sp.TRecord(balance = sp.TNat, request = sp.TRecord(owner = sp.TAddress, token_id = sp.TNat).layout(("owner", "token_id"))).layout(("request", "balance")))), requests = sp.TList(sp.TRecord(owner = sp.TAddress, token_id = sp.TNat).layout(("owner", "token_id")))).layout(("requests", "callback")))
<br>&nbsp;&nbsp;def f_x0(_x0):
<br>&nbsp;&nbsp;&nbsp;&nbsp;sp.verify(<span class='self'>self</span>.data.token_metadata.contains(<span class='variable'>_x0</span>.token_id), <span class='constant'>'FA2_TOKEN_UNDEFINED'</span>)
<br>&nbsp;&nbsp;&nbsp;&nbsp;sp.if <span class='self'>self</span>.data.ledger.contains((sp.set_type_expr(<span class='variable'>_x0</span>.owner, sp.TAddress), sp.set_type_expr(<span class='variable'>_x0</span>.token_id, sp.TNat))):
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sp.result(sp.record(request = sp.record(owner = sp.set_type_expr(<span class='variable'>_x0</span>.owner, sp.TAddress), token_id = sp.set_type_expr(<span class='variable'>_x0</span>.token_id, sp.TNat)), balance = <span class='self'>self</span>.data.ledger[(sp.set_type_expr(<span class='variable'>_x0</span>.owner, sp.TAddress), sp.set_type_expr(<span class='variable'>_x0</span>.token_id, sp.TNat))].balance))
<br>&nbsp;&nbsp;&nbsp;&nbsp;sp.else:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sp.result(sp.record(request = sp.record(owner = sp.set_type_expr(<span class='variable'>_x0</span>.owner, sp.TAddress), token_id = sp.set_type_expr(<span class='variable'>_x0</span>.token_id, sp.TNat)), balance = <span class='constant'>0</span>))
<br>&nbsp;&nbsp;<span class='local'>responses</span> = sp.local("<span class='local'>responses</span>", params.requests.map(sp.build_lambda(f_x0)))
<br>&nbsp;&nbsp;sp.transfer(responses.value, <span class='constant'>sp.tez(0)</span>, sp.set_type_expr(params.callback, sp.TContract(sp.TList(sp.TRecord(balance = sp.TNat, request = sp.TRecord(owner = sp.TAddress, token_id = sp.TNat).layout(("owner", "token_id"))).layout(("request", "balance"))))))</div></div>
<br><div class='on'>
  @sp.entry_point
<br><span class='keyword'>def</span> mint(<span class='self'>self</span>, params)<span class='keyword'>:</span><br><div class='indent5'>&nbsp;&nbsp;sp.verify(~ (params.token_id < <span class='self'>self</span>.data.all_tokens), <span class='constant'>'NFT-asset: cannot mint twice same token'</span>)
<br>&nbsp;&nbsp;sp.if <span class='self'>self</span>.data.ledger.contains((sp.set_type_expr(params.address, sp.TAddress), sp.set_type_expr(params.token_id, sp.TNat))):
<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='self'>self</span>.data.ledger[(sp.set_type_expr(params.address, sp.TAddress), sp.set_type_expr(params.token_id, sp.TNat))].balance += params.amount
<br>&nbsp;&nbsp;sp.else:
<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='self'>self</span>.data.ledger[(sp.set_type_expr(params.address, sp.TAddress), sp.set_type_expr(params.token_id, sp.TNat))] = sp.record(balance = params.amount)
<br>&nbsp;&nbsp;sp.if ~ (params.token_id < <span class='self'>self</span>.data.all_tokens):
<br>&nbsp;&nbsp;&nbsp;&nbsp;sp.verify(<span class='self'>self</span>.data.all_tokens == params.token_id, <span class='constant'>'Token-IDs should be consecutive'</span>)
<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='self'>self</span>.data.all_tokens = params.token_id + <span class='constant'>1</span>
<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='self'>self</span>.data.token_metadata[params.token_id] = sp.record(token_id = params.token_id, token_info = params.metadata)</div></div>
<br><div class='on'>
  @sp.entry_point
<br><span class='keyword'>def</span> set_administrator(<span class='self'>self</span>, params)<span class='keyword'>:</span><br><div class='indent5'>&nbsp;&nbsp;sp.verify(sp.sender == <span class='self'>self</span>.data.administrator, <span class='constant'>'FA2_NOT_ADMIN'</span>)
<br>&nbsp;&nbsp;<span class='self'>self</span>.data.administrator = params</div></div>
<br><div class='on'>
  @sp.entry_point
<br><span class='keyword'>def</span> set_metadata(<span class='self'>self</span>, params)<span class='keyword'>:</span><br><div class='indent5'>&nbsp;&nbsp;sp.verify(sp.sender == <span class='self'>self</span>.data.administrator, <span class='constant'>'FA2_NOT_ADMIN'</span>)
<br>&nbsp;&nbsp;<span class='self'>self</span>.data.metadata[params.k] = params.v</div></div>
<br><div class='on'>
  @sp.entry_point
<br><span class='keyword'>def</span> set_pause(<span class='self'>self</span>, params)<span class='keyword'>:</span><br><div class='indent5'>&nbsp;&nbsp;sp.verify(sp.sender == <span class='self'>self</span>.data.administrator, <span class='constant'>'FA2_NOT_ADMIN'</span>)
<br>&nbsp;&nbsp;<span class='self'>self</span>.data.paused = params</div></div>
<br><div class='on'>
  @sp.entry_point
<br><span class='keyword'>def</span> transfer(<span class='self'>self</span>, params)<span class='keyword'>:</span><br><div class='indent5'>&nbsp;&nbsp;sp.verify(~ <span class='self'>self</span>.data.paused, <span class='constant'>'FA2_PAUSED'</span>)
<br>&nbsp;&nbsp;sp.set_type(params, sp.TList(sp.TRecord(from_ = sp.TAddress, txs = sp.TList(sp.TRecord(amount = sp.TNat, to_ = sp.TAddress, token_id = sp.TNat).layout(("to_", ("token_id", "amount"))))).layout(("from_", "txs"))))
<br>&nbsp;&nbsp;sp.for <span class='variable'>transfer</span> in params:
<br>&nbsp;&nbsp;&nbsp;&nbsp;sp.for <span class='variable'>tx</span> in <span class='variable'>transfer</span>.txs:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sp.verify(((sp.sender == <span class='self'>self</span>.data.administrator) | (<span class='variable'>transfer</span>.from_ == sp.sender)) | (<span class='self'>self</span>.data.operators.contains(sp.set_type_expr(sp.record(owner = <span class='variable'>transfer</span>.from_, operator = sp.sender, token_id = <span class='variable'>tx</span>.token_id), sp.TRecord(operator = sp.TAddress, owner = sp.TAddress, token_id = sp.TNat).layout(("owner", ("operator", "token_id")))))), <span class='constant'>'FA2_NOT_OPERATOR'</span>)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sp.verify(<span class='self'>self</span>.data.token_metadata.contains(<span class='variable'>tx</span>.token_id), <span class='constant'>'FA2_TOKEN_UNDEFINED'</span>)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sp.if <span class='variable'>tx</span>.amount > <span class='constant'>0</span>:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sp.verify(<span class='self'>self</span>.data.ledger[(sp.set_type_expr(<span class='variable'>transfer</span>.from_, sp.TAddress), sp.set_type_expr(<span class='variable'>tx</span>.token_id, sp.TNat))].balance >= <span class='variable'>tx</span>.amount, <span class='constant'>'FA2_INSUFFICIENT_BALANCE'</span>)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='self'>self</span>.data.ledger[(sp.set_type_expr(<span class='variable'>transfer</span>.from_, sp.TAddress), sp.set_type_expr(<span class='variable'>tx</span>.token_id, sp.TNat))].balance = sp.as_nat(<span class='self'>self</span>.data.ledger[(sp.set_type_expr(<span class='variable'>transfer</span>.from_, sp.TAddress), sp.set_type_expr(<span class='variable'>tx</span>.token_id, sp.TNat))].balance - <span class='variable'>tx</span>.amount)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sp.if <span class='self'>self</span>.data.ledger.contains((sp.set_type_expr(<span class='variable'>tx</span>.to_, sp.TAddress), sp.set_type_expr(<span class='variable'>tx</span>.token_id, sp.TNat))):
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='self'>self</span>.data.ledger[(sp.set_type_expr(<span class='variable'>tx</span>.to_, sp.TAddress), sp.set_type_expr(<span class='variable'>tx</span>.token_id, sp.TNat))].balance += <span class='variable'>tx</span>.amount
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sp.else:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='self'>self</span>.data.ledger[(sp.set_type_expr(<span class='variable'>tx</span>.to_, sp.TAddress), sp.set_type_expr(<span class='variable'>tx</span>.token_id, sp.TNat))] = sp.record(balance = <span class='variable'>tx</span>.amount)</div></div>
<br><div class='on'>
  @sp.entry_point
<br><span class='keyword'>def</span> update_operators(<span class='self'>self</span>, params)<span class='keyword'>:</span><br><div class='indent5'>&nbsp;&nbsp;sp.set_type(params, sp.TList(sp.TVariant(add_operator = sp.TRecord(operator = sp.TAddress, owner = sp.TAddress, token_id = sp.TNat).layout(("owner", ("operator", "token_id"))), remove_operator = sp.TRecord(operator = sp.TAddress, owner = sp.TAddress, token_id = sp.TNat).layout(("owner", ("operator", "token_id")))).layout(("add_operator", "remove_operator"))))
<br>&nbsp;&nbsp;sp.for <span class='variable'>update</span> in params:
<br>&nbsp;&nbsp;&nbsp;&nbsp;with <span class='variable'>update</span>.match_cases() as arg:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with arg.match('add_operator') as add_operator:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sp.verify((<span class='variable'>add_operator</span>.owner == sp.sender) | (sp.sender == <span class='self'>self</span>.data.administrator), <span class='constant'>'FA2_NOT_ADMIN_OR_OPERATOR'</span>)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='self'>self</span>.data.operators[sp.set_type_expr(sp.record(owner = <span class='variable'>add_operator</span>.owner, operator = <span class='variable'>add_operator</span>.operator, token_id = <span class='variable'>add_operator</span>.token_id), sp.TRecord(operator = sp.TAddress, owner = sp.TAddress, token_id = sp.TNat).layout(("owner", ("operator", "token_id"))))] = <span class='constant'>sp.unit</span>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with arg.match('remove_operator') as remove_operator:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sp.verify((<span class='variable'>remove_operator</span>.owner == sp.sender) | (sp.sender == <span class='self'>self</span>.data.administrator), <span class='constant'>'FA2_NOT_ADMIN_OR_OPERATOR'</span>)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='keyword'>del</span> <span class='self'>self</span>.data.operators[sp.set_type_expr(sp.record(owner = <span class='variable'>remove_operator</span>.owner, operator = <span class='variable'>remove_operator</span>.operator, token_id = <span class='variable'>remove_operator</span>.token_id), sp.TRecord(operator = sp.TAddress, owner = sp.TAddress, token_id = sp.TNat).layout(("owner", ("operator", "token_id"))))]
<br></div></div>
<br>
<br>sp.add_compilation_target("test", Contract())</div><button class="text-button" onClick='showLine(781)'>(line 781)</button></div><div class='tabcontent' style='display: none;'><div class='contract'><h3>Storage:</h3><span class='type'><span class='record'>{</span><br>&nbsp;&nbsp;<span class='record'>administrator</span>: sp.TAddress;<br>&nbsp;&nbsp;<span class='record'>all_tokens</span>: sp.TNat;<br>&nbsp;&nbsp;<span class='record'>ledger</span>: sp.TBigMap(sp.TPair(sp.TAddress, sp.TNat), &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>balance</span>: sp.TNat;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>}.layout("balance")</span>);<br>&nbsp;&nbsp;<span class='record'>metadata</span>: sp.TBigMap(sp.TString, sp.TBytes);<br>&nbsp;&nbsp;<span class='record'>operators</span>: sp.TBigMap(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>operator</span>: sp.TAddress;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>owner</span>: sp.TAddress;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>token_id</span>: sp.TNat;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>}.layout(("owner", ("operator", "token_id")))</span>, sp.TUnit);<br>&nbsp;&nbsp;<span class='record'>paused</span>: sp.TBool;<br>&nbsp;&nbsp;<span class='record'>token_metadata</span>: sp.TBigMap(sp.TNat, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>token_id</span>: sp.TNat;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>token_info</span>: sp.TMap(sp.TString, sp.TBytes);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>}.layout(("token_id", "token_info"))</span>);<br><span class='record'>}.layout((("administrator", ("all_tokens", "ledger")), (("metadata", "operators"), ("paused", "token_metadata"))))</span></span><p><h3>Entry points:</h3><span class='type'><span class='variant'>| balance_of</span> &nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>callback</span>: sp.TContract(sp.TList(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>balance</span>: sp.TNat;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>request</span>: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>owner</span>: sp.TAddress;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>token_id</span>: sp.TNat;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>}.layout(("owner", "token_id"))</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>}.layout(("request", "balance"))</span>));<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>requests</span>: sp.TList(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>owner</span>: sp.TAddress;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>token_id</span>: sp.TNat;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>}.layout(("owner", "token_id"))</span>);<br>&nbsp;&nbsp;<span class='record'>}.layout(("requests", "callback"))</span><br><span class='variant'>| mint</span> &nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>address</span>: sp.TAddress;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>amount</span>: sp.TNat;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>metadata</span>: sp.TMap(sp.TString, sp.TBytes);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>token_id</span>: sp.TNat;<br>&nbsp;&nbsp;<span class='record'>}.layout((("address", "amount"), ("metadata", "token_id")))</span><br><span class='variant'>| set_administrator</span> sp.TAddress<br><span class='variant'>| set_metadata</span> &nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>k</span>: sp.TString;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>v</span>: sp.TBytes;<br>&nbsp;&nbsp;<span class='record'>}.layout(("k", "v"))</span><br><span class='variant'>| set_pause</span> sp.TBool<br><span class='variant'>| transfer</span> sp.TList(&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>from_</span>: sp.TAddress;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>txs</span>: sp.TList(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>amount</span>: sp.TNat;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>to_</span>: sp.TAddress;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>token_id</span>: sp.TNat;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>}.layout(("to_", ("token_id", "amount")))</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>}.layout(("from_", "txs"))</span>)<br><span class='variant'>| update_operators</span> sp.TList(&nbsp;&nbsp;&nbsp;&nbsp;<span class='variant'>| add_operator</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>operator</span>: sp.TAddress;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>owner</span>: sp.TAddress;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>token_id</span>: sp.TNat;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>}.layout(("owner", ("operator", "token_id")))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='variant'>| remove_operator</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>operator</span>: sp.TAddress;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>owner</span>: sp.TAddress;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>token_id</span>: sp.TNat;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>}.layout(("owner", ("operator", "token_id")))</span>)</span></div></div><div class='tabcontent' style='display: none;'><button class='centertextbutton extramarginbottom' onClick='smartpyContext.gotoOrigination(contractSizes0_4.innerHTML, storageCode0_4.innerText, contractCode0_4.innerText, storageCodeJson0_4.innerText, contractCodeJson0_4.innerText,storageCode0_4.innerHTML, contractCode0_4.innerHTML, storageCodeJson0_4.innerHTML, contractCodeJson0_4.innerHTML)'>Deploy Michelson Contract</button><div class='tabs'><div class='tab'><span class='title'>Generated Michelson:</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTabLazy(event, 0, 0);'>Sizes</button><button name='button_generatedMichelson' class='tablinks' onclick='openTabLazy(event, 1, 0);'>Storage</button><button name='button_generatedMichelson' class='tablinks' onclick='openTabLazy(event, 2, 0);'>Code</button><button name='button_generatedMichelson' class='tablinks' onclick='openTabLazy(event, 3, 0);'>Storage JSON</button><button name='button_generatedMichelson' class='tablinks' onclick='openTabLazy(event, 4, 0);'>Code JSON</button></div><div class='tabcontent' style='display: block;'><div ><h2>Sizes</h2><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='contractSizes0_4' class='michelson white-space-pre'><table><tr><td class='pad10'><span class='item'>Storage: </span></td><td class='pad10'><div class='progress' style='height: 20px; width: 150px;'><div class='progress-bar' style='width:0;' role='progressbar' style='aria-valuenow='10'></div></div></td><td class='pad10, code_right'>108 Bytes</td></tr><tr><td class='pad10'><span class='item'>Big map originations (4): </span></td><td class='pad10'><div class='progress' style='height: 20px; width: 150px;'><div class='progress-bar' style='width:0;' role='progressbar' style='aria-valuenow='10'></div></div></td><td class='pad10, code_right'>128 Bytes</td></tr><tr><td class='pad10'><span class='item'>Code: </span></td><td class='pad10'><div class='progress' style='height: 20px; width: 150px;'><div class='progress-bar' style='width:18;' role='progressbar' style='aria-valuenow='10'></div></div></td><td class='pad10, code_right'>3081 Bytes</td></tr><tr><td class='pad10'><span class='item'>Combined: </span></td><td class='pad10'><div class='progress' style='height: 20px; width: 150px;'><div class='progress-bar' style='width:20;' role='progressbar' style='aria-valuenow='10'></div></div></td><td class='pad10, code_right'>3317 Bytes</td></tr></table></div></div></div><div class='tabcontent' style='display: none;'><div ><h2>Initial Storage</h2><div ><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='storageCode0_4' class='michelson white-space-pre-wrap'>(Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair 0 {})) (Pair (Pair {Elt "" 0x68747470733a2f2f6578616d706c652e636f6d} {}) (Pair False {})))</div></div></div></div><div class='tabcontent' style='display: none;'><div ><h2>Michelson Code</h2><div ><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='contractCode0_4' class='michelson white-space-pre'>parameter (or (or (pair %balance_of (list %requests (pair (address %owner) (nat %token_id))) (contract %callback (list (pair (pair %request (address %owner) (nat %token_id)) (nat %balance))))) (or (pair %mint (pair (address %address) (nat %amount)) (pair (map %metadata string bytes) (nat %token_id))) (address %set_administrator))) (or (or (pair %set_metadata (string %k) (bytes %v)) (bool %set_pause)) (or (list %transfer (pair (address %from_) (list %txs (pair (address %to_) (pair (nat %token_id) (nat %amount)))))) (list %update_operators (or (pair %add_operator (address %owner) (pair (address %operator) (nat %token_id))) (pair %remove_operator (address %owner) (pair (address %operator) (nat %token_id))))))));<br>storage &nbsp;&nbsp;(pair (pair (address %administrator) (pair (nat %all_tokens) (big_map %ledger (pair address nat) nat))) (pair (pair (big_map %metadata string bytes) (big_map %operators (pair (address %owner) (pair (address %operator) (nat %token_id))) unit)) (pair (bool %paused) (big_map %token_metadata nat (pair (nat %token_id) (map %token_info string bytes))))));<br><div class='michelsonLine'>code<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;CAST (pair (or (or (pair (list (pair address nat)) (contract (list (pair (pair address nat) nat)))) (or (pair (pair address nat) (pair (map string bytes) nat)) address)) (or (or (pair string bytes) bool) (or (list (pair address (list (pair address (pair nat nat))))) (list (or (pair address (pair address nat)) (pair address (pair address nat))))))) (pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))))); <span class='comment'>#</span> <span class='stack'>pair (or (or (pair (list (pair address nat)) (contract (list (pair (pair address nat) nat)))) (or (pair (pair address nat) (pair (map string bytes) nat)) address)) (or (or (pair string bytes) bool) (or (list (pair address (list (pair address (pair nat nat))))) (list (or (pair address (pair address nat)) (pair address (pair address nat))))))) (pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>or (or (pair (list (pair address nat)) (contract (list (pair (pair address nat) nat)))) (or (pair (pair address nat) (pair (map string bytes) nat)) address)) (or (or (pair string bytes) bool) (or (list (pair address (list (pair address (pair nat nat))))) (list (or (pair address (pair address nat)) (pair address (pair address nat)))))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;IF_LEFT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF_LEFT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># == balance_of ==</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.verify(~ self.data.paused, 'FA2_PAUSED')</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH string "FA2_PAUSED"; <span class='comment'>#</span> <span class='stack'>string : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}; <span class='comment'>#</span> <span class='stack'>pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># def f_x0(_x0):</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'>#   sp.verify(self.data.token_metadata.contains(_x0.token_id), 'FA2_TOKEN_UNDEFINED')</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'>#   sp.if self.data.ledger.contains((sp.set_type_expr(_x0.owner, sp.TAddress), sp.set_type_expr(_x0.token_id, sp.TNat))):</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'>#     sp.result(sp.record(request = sp.record(owner = sp.set_type_expr(_x0.owner, sp.TAddress), token_id = sp.set_type_expr(_x0.token_id, sp.TNat)), balance = self.data.ledger[(sp.set_type_expr(_x0.owner, sp.TAddress), sp.set_type_expr(_x0.token_id, sp.TNat))].balance))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'>#   sp.else:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'>#     sp.result(sp.record(request = sp.record(owner = sp.set_type_expr(_x0.owner, sp.TAddress), token_id = sp.set_type_expr(_x0.token_id, sp.TNat)), balance = 0))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># responses = sp.local("responses", params.requests.map(sp.build_lambda(f_x0)))</span> <span class='comment'>#</span> <span class='stack'>pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>list (pair address nat) : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MAP<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.verify(self.data.token_metadata.contains(_x0.token_id), 'FA2_TOKEN_UNDEFINED')</span> <span class='comment'>#</span> <span class='stack'>pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 6;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map nat (pair nat (map string bytes)) : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map nat (pair nat (map string bytes)) : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : pair address nat : big_map nat (pair nat (map string bytes)) : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map nat (pair nat (map string bytes)) : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map nat (pair nat (map string bytes)) : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MEM;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH string "FA2_TOKEN_UNDEFINED"; <span class='comment'>#</span> <span class='stack'>string : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># if self.data.ledger.contains((sp.set_type_expr(_x0.owner, sp.TAddress), sp.set_type_expr(_x0.token_id, sp.TNat))):</span> <span class='comment'>#</span> <span class='stack'>pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : pair address nat : big_map (pair address nat) nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair address nat : big_map (pair address nat) nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : nat : big_map (pair address nat) nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : pair address nat : nat : big_map (pair address nat) nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : nat : big_map (pair address nat) nat : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : nat : big_map (pair address nat) nat : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MEM;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.result(sp.record(request = sp.record(owner = sp.set_type_expr(_x0.owner, sp.TAddress), token_id = sp.set_type_expr(_x0.token_id, sp.TNat)), balance = self.data.ledger[(sp.set_type_expr(_x0.owner, sp.TAddress), sp.set_type_expr(_x0.token_id, sp.TNat))].balance))</span> <span class='comment'>#</span> <span class='stack'>pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : pair address nat : big_map (pair address nat) nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair address nat : big_map (pair address nat) nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : nat : big_map (pair address nat) nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : pair address nat : nat : big_map (pair address nat) nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : nat : big_map (pair address nat) nat : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : nat : big_map (pair address nat) nat : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option nat : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF_NONE<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH int 474; <span class='comment'>#</span> <span class='stack'>int : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}; <span class='comment'>#</span> <span class='stack'>@some : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : @some : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) @some : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.result(sp.record(request = sp.record(owner = sp.set_type_expr(_x0.owner, sp.TAddress), token_id = sp.set_type_expr(_x0.token_id, sp.TNat)), balance = 0))</span> <span class='comment'>#</span> <span class='stack'>pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH nat 0; <span class='comment'>#</span> <span class='stack'>nat : pair address nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) nat : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>list (pair (pair address nat) nat) : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.transfer(responses.value, sp.tez(0), sp.set_type_expr(params.callback, sp.TContract(sp.TList(sp.TRecord(balance = sp.TNat, request = sp.TRecord(owner = sp.TAddress, token_id = sp.TNat).layout(("owner", "token_id"))).layout(("request", "balance"))))))</span> <span class='comment'>#</span> <span class='stack'>list (pair (pair address nat) nat) : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NIL operation; <span class='comment'>#</span> <span class='stack'>list operation : list (pair (pair address nat) nat) : pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (list (pair address nat)) (contract (list (pair (pair address nat) nat))) : list operation : list (pair (pair address nat) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>contract (list (pair (pair address nat) nat)) : list operation : list (pair (pair address nat) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH mutez 0; <span class='comment'>#</span> <span class='stack'>mutez : contract (list (pair (pair address nat) nat)) : list operation : list (pair (pair address nat) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>list (pair (pair address nat) nat) : mutez : contract (list (pair (pair address nat) nat)) : list operation : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TRANSFER_TOKENS; <span class='comment'>#</span> <span class='stack'>operation : list operation : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CONS;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>list operation : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF_LEFT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># == mint ==</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.verify(~ (params.token_id < self.data.all_tokens), 'NFT-asset: cannot mint twice same token')</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : nat : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address nat) (pair (map string bytes) nat) : nat : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LT;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH string "NFT-asset: cannot mint twice same token"; <span class='comment'>#</span> <span class='stack'>string : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># if self.data.ledger.contains((sp.set_type_expr(params.address, sp.TAddress), sp.set_type_expr(params.token_id, sp.TNat))):</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : big_map (pair address nat) nat : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address nat) (pair (map string bytes) nat) : big_map (pair address nat) nat : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair (pair address nat) (pair (map string bytes) nat) : big_map (pair address nat) nat : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : nat : big_map (pair address nat) nat : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address nat) (pair (map string bytes) nat) : nat : big_map (pair address nat) nat : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : nat : big_map (pair address nat) nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : nat : big_map (pair address nat) nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : nat : big_map (pair address nat) nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MEM;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.ledger[(sp.set_type_expr(params.address, sp.TAddress), sp.set_type_expr(params.token_id, sp.TNat))].balance += params.amount</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (big_map (pair address nat) nat) : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address nat) (pair (map string bytes) nat) : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair (pair address nat) (pair (map string bytes) nat) : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address nat) (pair (map string bytes) nat) : nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 7;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : pair address nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF_NONE<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH int 596; <span class='comment'>#</span> <span class='stack'>int : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}; <span class='comment'>#</span> <span class='stack'>@some : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 7;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : @some : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : @some : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : @some : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ADD;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SOME;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (big_map (pair address nat) nat) : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.ledger[(sp.set_type_expr(params.address, sp.TAddress), sp.set_type_expr(params.token_id, sp.TNat))] = sp.record(balance = params.amount)</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (big_map (pair address nat) nat) : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SOME;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address nat) (pair (map string bytes) nat) : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair (pair address nat) (pair (map string bytes) nat) : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : nat : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address nat) (pair (map string bytes) nat) : nat : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 7;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : nat : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : nat : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : nat : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (big_map (pair address nat) nat) : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># if ~ (params.token_id < self.data.all_tokens):</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : nat : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address nat) (pair (map string bytes) nat) : nat : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LT;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DROP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.verify(self.data.all_tokens == params.token_id, 'Token-IDs should be consecutive')</span> <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : nat : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EQ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH string "Token-IDs should be consecutive"; <span class='comment'>#</span> <span class='stack'>string : pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.all_tokens = params.token_id + 1</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (big_map (pair address nat) nat) : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH nat 1; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ADD;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (big_map (pair address nat) nat) : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.token_metadata[params.token_id] = sp.record(token_id = params.token_id, token_info = params.metadata)</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 6;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map nat (pair nat (map string bytes)) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : big_map nat (pair nat (map string bytes)) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address nat) (pair (map string bytes) nat) : big_map nat (pair nat (map string bytes)) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>map string bytes : pair (pair address nat) (pair (map string bytes) nat) : big_map nat (pair nat (map string bytes)) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : map string bytes : big_map nat (pair nat (map string bytes)) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : pair (pair address nat) (pair (map string bytes) nat) : map string bytes : big_map nat (pair nat (map string bytes)) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : map string bytes : big_map nat (pair nat (map string bytes)) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : map string bytes : big_map nat (pair nat (map string bytes)) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (map string bytes) : big_map nat (pair nat (map string bytes)) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SOME;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option (pair nat (map string bytes)) : big_map nat (pair nat (map string bytes)) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address nat) (pair (map string bytes) nat)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address nat) (pair (map string bytes) nat) : option (pair nat (map string bytes)) : big_map nat (pair nat (map string bytes)) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : option (pair nat (map string bytes)) : big_map nat (pair nat (map string bytes)) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map nat (pair nat (map string bytes)) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE 6;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : address</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># == set_administrator ==</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.verify(sp.sender == self.data.administrator, 'FA2_NOT_ADMIN')</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : address</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : address</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : address : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : address : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : address : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SENDER;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@sender : address : address : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : address : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EQ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : address : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH string "FA2_NOT_ADMIN"; <span class='comment'>#</span> <span class='stack'>string : address : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>address : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : address</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.administrator = params</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : address</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : address</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : address</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NIL operation; <span class='comment'>#</span> <span class='stack'>list operation : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>list operation : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF_LEFT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF_LEFT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair string bytes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># == set_metadata ==</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.verify(sp.sender == self.data.administrator, 'FA2_NOT_ADMIN')</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair string bytes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair string bytes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair string bytes : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair string bytes : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair string bytes : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SENDER;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@sender : address : pair string bytes : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : pair string bytes : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EQ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair string bytes : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH string "FA2_NOT_ADMIN"; <span class='comment'>#</span> <span class='stack'>string : pair string bytes : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair string bytes : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair string bytes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.metadata[params.k] = params.v</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair string bytes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair string bytes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat (big_map (pair address nat) nat)) : pair string bytes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (big_map string bytes) (big_map (pair address (pair address nat)) unit) : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : pair string bytes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map string bytes : big_map (pair address (pair address nat)) unit : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : pair string bytes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair string bytes : big_map string bytes : big_map (pair address (pair address nat)) unit : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : pair string bytes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bytes : big_map string bytes : big_map (pair address (pair address nat)) unit : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : pair string bytes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SOME;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option bytes : big_map string bytes : big_map (pair address (pair address nat)) unit : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : pair string bytes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair string bytes : option bytes : big_map string bytes : big_map (pair address (pair address nat)) unit : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>string : option bytes : big_map string bytes : big_map (pair address (pair address nat)) unit : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map string bytes : big_map (pair address (pair address nat)) unit : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (big_map string bytes) (big_map (pair address (pair address nat)) unit) : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat (big_map (pair address nat) nat))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : bool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># == set_pause ==</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.verify(sp.sender == self.data.administrator, 'FA2_NOT_ADMIN')</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : bool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : bool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : bool : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : bool : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : bool : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SENDER;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@sender : address : bool : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : bool : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EQ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : bool : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH string "FA2_NOT_ADMIN"; <span class='comment'>#</span> <span class='stack'>string : bool : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>bool : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.paused = params</span> <span class='comment'>#</span> <span class='stack'>bool : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE 5;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF_LEFT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># == transfer ==</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.verify(~ self.data.paused, 'FA2_PAUSED')</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH string "FA2_PAUSED"; <span class='comment'>#</span> <span class='stack'>string : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}; <span class='comment'>#</span> <span class='stack'>list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># for transfer in params: ...</span> <span class='comment'>#</span> <span class='stack'>list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>list (pair address (list (pair address (pair nat nat)))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITER<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># for tx in transfer.txs: ...</span> <span class='comment'>#</span> <span class='stack'>pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (list (pair address (pair nat nat))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>list (pair address (pair nat nat)) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITER<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.verify(((sp.sender == self.data.administrator) | (transfer.from_ == sp.sender)) | (self.data.operators.contains(sp.set_type_expr(sp.record(owner = transfer.from_, operator = sp.sender, token_id = tx.token_id), sp.TRecord(operator = sp.TAddress, owner = sp.TAddress, token_id = sp.TNat).layout(("owner", ("operator", "token_id")))))), 'FA2_NOT_OPERATOR')</span> <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SENDER;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@sender : address : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EQ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH bool True; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SENDER;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@sender : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (list (pair address (pair nat nat))) : @sender : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : @sender : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EQ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH bool True; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (big_map string bytes) (big_map (pair address (pair address nat)) unit) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address (pair address nat)) unit : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : big_map (pair address (pair address nat)) unit : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (pair nat nat) : big_map (pair address (pair address nat)) unit : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : big_map (pair address (pair address nat)) unit : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address (pair address nat)) unit : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SENDER;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@sender : nat : big_map (pair address (pair address nat)) unit : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (list (pair address (pair nat nat))) : @sender : nat : big_map (pair address (pair address nat)) unit : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : @sender : nat : big_map (pair address (pair address nat)) unit : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR 3;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair @sender nat) : big_map (pair address (pair address nat)) unit : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MEM;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH string "FA2_NOT_OPERATOR"; <span class='comment'>#</span> <span class='stack'>string : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.verify(self.data.token_metadata.contains(tx.token_id), 'FA2_TOKEN_UNDEFINED')</span> <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 6;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map nat (pair nat (map string bytes)) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : big_map nat (pair nat (map string bytes)) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (pair nat nat) : big_map nat (pair nat (map string bytes)) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : big_map nat (pair nat (map string bytes)) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map nat (pair nat (map string bytes)) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MEM;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH string "FA2_TOKEN_UNDEFINED"; <span class='comment'>#</span> <span class='stack'>string : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># if tx.amount > 0:</span> <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH nat 0; <span class='comment'>#</span> <span class='stack'>nat : nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LT;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.verify(self.data.ledger[(sp.set_type_expr(transfer.from_, sp.TAddress), sp.set_type_expr(tx.token_id, sp.TNat))].balance >= tx.amount, 'FA2_INSUFFICIENT_BALANCE')</span> <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : big_map (pair address nat) nat : nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (list (pair address (pair nat nat))) : nat : big_map (pair address nat) nat : nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : nat : big_map (pair address nat) nat : nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option nat : nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF_NONE<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH int 450; <span class='comment'>#</span> <span class='stack'>int : nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}; <span class='comment'>#</span> <span class='stack'>@some : nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH string "FA2_INSUFFICIENT_BALANCE"; <span class='comment'>#</span> <span class='stack'>string : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.ledger[(sp.set_type_expr(transfer.from_, sp.TAddress), sp.set_type_expr(tx.token_id, sp.TNat))].balance = sp.as_nat(self.data.ledger[(sp.set_type_expr(transfer.from_, sp.TAddress), sp.set_type_expr(tx.token_id, sp.TNat))].balance - tx.amount)</span> <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (big_map (pair address nat) nat) : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 6;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 8;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (list (pair address (pair nat nat))) : nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : pair address nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF_NONE<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH int 453; <span class='comment'>#</span> <span class='stack'>int : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DROP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 6;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 9;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 8;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : big_map (pair address nat) nat : nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 10;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (list (pair address (pair nat nat))) : nat : big_map (pair address nat) nat : nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : nat : big_map (pair address nat) nat : nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option nat : nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF_NONE<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH int 454; <span class='comment'>#</span> <span class='stack'>int : nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}; <span class='comment'>#</span> <span class='stack'>@some : nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SUB;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ISNAT;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF_NONE<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH int 453; <span class='comment'>#</span> <span class='stack'>int : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}; <span class='comment'>#</span> <span class='stack'>@some : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SOME;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (big_map (pair address nat) nat) : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># if self.data.ledger.contains((sp.set_type_expr(tx.to_, sp.TAddress), sp.set_type_expr(tx.token_id, sp.TNat))):</span> <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : big_map (pair address nat) nat : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (pair nat nat) : big_map (pair address nat) nat : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair address (pair nat nat) : big_map (pair address nat) nat : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : nat : big_map (pair address nat) nat : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (pair nat nat) : nat : big_map (pair address nat) nat : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : nat : big_map (pair address nat) nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : nat : big_map (pair address nat) nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MEM;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.ledger[(sp.set_type_expr(tx.to_, sp.TAddress), sp.set_type_expr(tx.token_id, sp.TNat))].balance += tx.amount</span> <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (big_map (pair address nat) nat) : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (pair nat nat) : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair address (pair nat nat) : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (pair nat nat) : nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 7;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : pair address nat : big_map (pair address nat) nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : big_map (pair address nat) nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF_NONE<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH int 456; <span class='comment'>#</span> <span class='stack'>int : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}; <span class='comment'>#</span> <span class='stack'>@some : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 6;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : @some : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : @some : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ADD;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SOME;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option nat : pair address nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (big_map (pair address nat) nat) : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.ledger[(sp.set_type_expr(tx.to_, sp.TAddress), sp.set_type_expr(tx.token_id, sp.TNat))] = sp.record(balance = tx.amount)</span> <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (big_map (pair address nat) nat) : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SOME;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat nat) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : pair address (pair nat nat) : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair address (pair nat nat) : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat nat) : nat : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : nat : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address nat : option nat : big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address nat) nat : nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : big_map (pair address nat) nat : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair nat (big_map (pair address nat) nat) : address : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair nat (big_map (pair address nat) nat) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DROP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair address (list (pair address (pair nat nat))) : list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DROP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>list (pair address (list (pair address (pair nat nat)))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DROP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># == update_operators ==</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># for update in params: ...</span> <span class='comment'>#</span> <span class='stack'>list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>list (or (pair address (pair address nat)) (pair address (pair address nat))) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITER<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># with update.match_cases(...):</span> <span class='comment'>#</span> <span class='stack'>or (pair address (pair address nat)) (pair address (pair address nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF_LEFT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.verify((add_operator.owner == sp.sender) | (sp.sender == self.data.administrator), 'FA2_NOT_ADMIN_OR_OPERATOR')</span> <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SENDER;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@sender : address : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EQ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH bool True; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SENDER;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@sender : address : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EQ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH string "FA2_NOT_ADMIN_OR_OPERATOR"; <span class='comment'>#</span> <span class='stack'>string : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.operators[sp.set_type_expr(sp.record(owner = add_operator.owner, operator = add_operator.operator, token_id = add_operator.token_id), sp.TRecord(operator = sp.TAddress, owner = sp.TAddress, token_id = sp.TNat).layout(("owner", ("operator", "token_id"))))] = sp.unit</span> <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (big_map string bytes) (big_map (pair address (pair address nat)) unit) : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map string bytes : big_map (pair address (pair address nat)) unit : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH (option unit) (Some Unit); <span class='comment'>#</span> <span class='stack'>option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : pair address (pair address nat) : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair address (pair address nat) : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : nat : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : pair address (pair address nat) : nat : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair address (pair address nat) : nat : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : address : nat : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : address : nat : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR 3;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map string bytes : big_map (pair address (pair address nat)) unit : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (big_map string bytes) (big_map (pair address (pair address nat)) unit) : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># sp.verify((remove_operator.owner == sp.sender) | (sp.sender == self.data.administrator), 'FA2_NOT_ADMIN_OR_OPERATOR')</span> <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SENDER;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@sender : address : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EQ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH bool True; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SENDER;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@sender : address : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPARE;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>int : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EQ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>bool : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH string "FA2_NOT_ADMIN_OR_OPERATOR"; <span class='comment'>#</span> <span class='stack'>string : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FAILWITH;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>FAILED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># del self.data.operators[sp.set_type_expr(sp.record(owner = remove_operator.owner, operator = remove_operator.operator, token_id = remove_operator.token_id), sp.TRecord(operator = sp.TAddress, owner = sp.TAddress, token_id = sp.TNat).layout(("owner", ("operator", "token_id"))))]</span> <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (big_map string bytes) (big_map (pair address (pair address nat)) unit) : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map string bytes : big_map (pair address (pair address nat)) unit : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NONE unit;&nbsp; <span class='comment'>#</span> <span class='stack'>option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : pair address (pair address nat) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : pair address (pair address nat) : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : pair address (pair address nat) : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : nat : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : pair address (pair address nat) : nat : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : pair address (pair address nat) : nat : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : address : nat : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>address : address : nat : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR 3;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair address nat) : option unit : big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map (pair address (pair address nat)) unit : big_map string bytes : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>big_map string bytes : big_map (pair address (pair address nat)) unit : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (big_map string bytes) (big_map (pair address (pair address nat)) unit) : pair bool (big_map nat (pair nat (map string bytes))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : pair address (pair nat (big_map (pair address nat) nat)) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair address (pair nat (big_map (pair address nat) nat)) : pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))) : list (or (pair address (pair address nat)) (pair address (pair address nat)))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>list (or (pair address (pair address nat)) (pair address (pair address nat))) : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DROP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NIL operation; <span class='comment'>#</span> <span class='stack'>list operation : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>list operation : pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes)))))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (list operation) (pair (pair address (pair nat (big_map (pair address nat) nat))) (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit)) (pair bool (big_map nat (pair nat (map string bytes))))))</span><br>&nbsp;&nbsp;};</div></div></div></div></div><div class='tabcontent' style='display: none;'><div ><h2>Initial Storage</h2><div ><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='storageCodeJson0_4' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Pair",<br>  "args": [<br>    { "prim": "Pair", "args": [ { "string": "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" }, { "prim": "Pair", "args": [ { "int": "0" }, [] ] } ] },<br>    {<br>      "prim": "Pair",<br>      "args": [<br>        { "prim": "Pair", "args": [ [ { "prim": "Elt", "args": [ { "string": "" }, { "bytes": "68747470733a2f2f6578616d706c652e636f6d" } ] } ], [] ] },<br>        { "prim": "Pair", "args": [ { "prim": "False" }, [] ] }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'><div ><h2>JSON Representation</h2><div ><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='contractCodeJson0_4' class='michelson white-space-pre'><div class='white-space-pre'>[<br>  {<br>    "prim": "storage",<br>    "args": [<br>      {<br>        "prim": "pair",<br>        "args": [<br>          {<br>            "prim": "pair",<br>            "args": [<br>              { "prim": "address", "annots": [ "%administrator" ] },<br>              {<br>                "prim": "pair",<br>                "args": [<br>                  { "prim": "nat", "annots": [ "%all_tokens" ] },<br>                  { "prim": "big_map", "args": [ { "prim": "pair", "args": [ { "prim": "address" }, { "prim": "nat" } ] }, { "prim": "nat" } ], "annots": [ "%ledger" ] }<br>                ]<br>              }<br>            ]<br>          },<br>          {<br>            "prim": "pair",<br>            "args": [<br>              {<br>                "prim": "pair",<br>                "args": [<br>                  { "prim": "big_map", "args": [ { "prim": "string" }, { "prim": "bytes" } ], "annots": [ "%metadata" ] },<br>                  {<br>                    "prim": "big_map",<br>                    "args": [<br>                      {<br>                        "prim": "pair",<br>                        "args": [<br>                          { "prim": "address", "annots": [ "%owner" ] },<br>                          { "prim": "pair", "args": [ { "prim": "address", "annots": [ "%operator" ] }, { "prim": "nat", "annots": [ "%token_id" ] } ] }<br>                        ]<br>                      },<br>                      { "prim": "unit" }<br>                    ],<br>                    "annots": [ "%operators" ]<br>                  }<br>                ]<br>              },<br>              {<br>                "prim": "pair",<br>                "args": [<br>                  { "prim": "bool", "annots": [ "%paused" ] },<br>                  {<br>                    "prim": "big_map",<br>                    "args": [<br>                      { "prim": "nat" },<br>                      {<br>                        "prim": "pair",<br>                        "args": [<br>                          { "prim": "nat", "annots": [ "%token_id" ] }, { "prim": "map", "args": [ { "prim": "string" }, { "prim": "bytes" } ], "annots": [ "%token_info" ] }<br>                        ]<br>                      }<br>                    ],<br>                    "annots": [ "%token_metadata" ]<br>                  }<br>                ]<br>              }<br>            ]<br>          }<br>        ]<br>      }<br>    ]<br>  },<br>  {<br>    "prim": "parameter",<br>    "args": [<br>      {<br>        "prim": "or",<br>        "args": [<br>          {<br>            "prim": "or",<br>            "args": [<br>              {<br>                "prim": "pair",<br>                "args": [<br>                  {<br>                    "prim": "list",<br>                    "args": [ { "prim": "pair", "args": [ { "prim": "address", "annots": [ "%owner" ] }, { "prim": "nat", "annots": [ "%token_id" ] } ] } ],<br>                    "annots": [ "%requests" ]<br>                  },<br>                  {<br>                    "prim": "contract",<br>                    "args": [<br>                      {<br>                        "prim": "list",<br>                        "args": [<br>                          {<br>                            "prim": "pair",<br>                            "args": [<br>                              { "prim": "pair", "args": [ { "prim": "address", "annots": [ "%owner" ] }, { "prim": "nat", "annots": [ "%token_id" ] } ], "annots": [ "%request" ] },<br>                              { "prim": "nat", "annots": [ "%balance" ] }<br>                            ]<br>                          }<br>                        ]<br>                      }<br>                    ],<br>                    "annots": [ "%callback" ]<br>                  }<br>                ],<br>                "annots": [ "%balance_of" ]<br>              },<br>              {<br>                "prim": "or",<br>                "args": [<br>                  {<br>                    "prim": "pair",<br>                    "args": [<br>                      { "prim": "pair", "args": [ { "prim": "address", "annots": [ "%address" ] }, { "prim": "nat", "annots": [ "%amount" ] } ] },<br>                      {<br>                        "prim": "pair",<br>                        "args": [<br>                          { "prim": "map", "args": [ { "prim": "string" }, { "prim": "bytes" } ], "annots": [ "%metadata" ] }, { "prim": "nat", "annots": [ "%token_id" ] }<br>                        ]<br>                      }<br>                    ],<br>                    "annots": [ "%mint" ]<br>                  },<br>                  { "prim": "address", "annots": [ "%set_administrator" ] }<br>                ]<br>              }<br>            ]<br>          },<br>          {<br>            "prim": "or",<br>            "args": [<br>              {<br>                "prim": "or",<br>                "args": [<br>                  { "prim": "pair", "args": [ { "prim": "string", "annots": [ "%k" ] }, { "prim": "bytes", "annots": [ "%v" ] } ], "annots": [ "%set_metadata" ] },<br>                  { "prim": "bool", "annots": [ "%set_pause" ] }<br>                ]<br>              },<br>              {<br>                "prim": "or",<br>                "args": [<br>                  {<br>                    "prim": "list",<br>                    "args": [<br>                      {<br>                        "prim": "pair",<br>                        "args": [<br>                          { "prim": "address", "annots": [ "%from_" ] },<br>                          {<br>                            "prim": "list",<br>                            "args": [<br>                              {<br>                                "prim": "pair",<br>                                "args": [<br>                                  { "prim": "address", "annots": [ "%to_" ] },<br>                                  { "prim": "pair", "args": [ { "prim": "nat", "annots": [ "%token_id" ] }, { "prim": "nat", "annots": [ "%amount" ] } ] }<br>                                ]<br>                              }<br>                            ],<br>                            "annots": [ "%txs" ]<br>                          }<br>                        ]<br>                      }<br>                    ],<br>                    "annots": [ "%transfer" ]<br>                  },<br>                  {<br>                    "prim": "list",<br>                    "args": [<br>                      {<br>                        "prim": "or",<br>                        "args": [<br>                          {<br>                            "prim": "pair",<br>                            "args": [<br>                              { "prim": "address", "annots": [ "%owner" ] },<br>                              { "prim": "pair", "args": [ { "prim": "address", "annots": [ "%operator" ] }, { "prim": "nat", "annots": [ "%token_id" ] } ] }<br>                            ],<br>                            "annots": [ "%add_operator" ]<br>                          },<br>                          {<br>                            "prim": "pair",<br>                            "args": [<br>                              { "prim": "address", "annots": [ "%owner" ] },<br>                              { "prim": "pair", "args": [ { "prim": "address", "annots": [ "%operator" ] }, { "prim": "nat", "annots": [ "%token_id" ] } ] }<br>                            ],<br>                            "annots": [ "%remove_operator" ]<br>                          }<br>                        ]<br>                      }<br>                    ],<br>                    "annots": [ "%update_operators" ]<br>                  }<br>                ]<br>              }<br>            ]<br>          }<br>        ]<br>      }<br>    ]<br>  },<br>  {<br>    "prim": "code",<br>    "args": [<br>      [<br>        {<br>          "prim": "CAST",<br>          "args": [<br>            {<br>              "prim": "pair",<br>              "args": [<br>                {<br>                  "prim": "or",<br>                  "args": [<br>                    {<br>                      "prim": "or",<br>                      "args": [<br>                        {<br>                          "prim": "pair",<br>                          "args": [<br>                            { "prim": "list", "args": [ { "prim": "pair", "args": [ { "prim": "address" }, { "prim": "nat" } ] } ] },<br>                            {<br>                              "prim": "contract",<br>                              "args": [<br>                                {<br>                                  "prim": "list",<br>                                  "args": [ { "prim": "pair", "args": [ { "prim": "pair", "args": [ { "prim": "address" }, { "prim": "nat" } ] }, { "prim": "nat" } ] } ]<br>                                }<br>                              ]<br>                            }<br>                          ]<br>                        },<br>                        {<br>                          "prim": "or",<br>                          "args": [<br>                            {<br>                              "prim": "pair",<br>                              "args": [<br>                                { "prim": "pair", "args": [ { "prim": "address" }, { "prim": "nat" } ] },<br>                                { "prim": "pair", "args": [ { "prim": "map", "args": [ { "prim": "string" }, { "prim": "bytes" } ] }, { "prim": "nat" } ] }<br>                              ]<br>                            },<br>                            { "prim": "address" }<br>                          ]<br>                        }<br>                      ]<br>                    },<br>                    {<br>                      "prim": "or",<br>                      "args": [<br>                        { "prim": "or", "args": [ { "prim": "pair", "args": [ { "prim": "string" }, { "prim": "bytes" } ] }, { "prim": "bool" } ] },<br>                        {<br>                          "prim": "or",<br>                          "args": [<br>                            {<br>                              "prim": "list",<br>                              "args": [<br>                                {<br>                                  "prim": "pair",<br>                                  "args": [<br>                                    { "prim": "address" },<br>                                    {<br>                                      "prim": "list",<br>                                      "args": [ { "prim": "pair", "args": [ { "prim": "address" }, { "prim": "pair", "args": [ { "prim": "nat" }, { "prim": "nat" } ] } ] } ]<br>                                    }<br>                                  ]<br>                                }<br>                              ]<br>                            },<br>                            {<br>                              "prim": "list",<br>                              "args": [<br>                                {<br>                                  "prim": "or",<br>                                  "args": [<br>                                    { "prim": "pair", "args": [ { "prim": "address" }, { "prim": "pair", "args": [ { "prim": "address" }, { "prim": "nat" } ] } ] },<br>                                    { "prim": "pair", "args": [ { "prim": "address" }, { "prim": "pair", "args": [ { "prim": "address" }, { "prim": "nat" } ] } ] }<br>                                  ]<br>                                }<br>                              ]<br>                            }<br>                          ]<br>                        }<br>                      ]<br>                    }<br>                  ]<br>                },<br>                {<br>                  "prim": "pair",<br>                  "args": [<br>                    {<br>                      "prim": "pair",<br>                      "args": [<br>                        { "prim": "address" },<br>                        {<br>                          "prim": "pair",<br>                          "args": [<br>                            { "prim": "nat" }, { "prim": "big_map", "args": [ { "prim": "pair", "args": [ { "prim": "address" }, { "prim": "nat" } ] }, { "prim": "nat" } ] }<br>                          ]<br>                        }<br>                      ]<br>                    },<br>                    {<br>                      "prim": "pair",<br>                      "args": [<br>                        {<br>                          "prim": "pair",<br>                          "args": [<br>                            { "prim": "big_map", "args": [ { "prim": "string" }, { "prim": "bytes" } ] },<br>                            {<br>                              "prim": "big_map",<br>                              "args": [<br>                                { "prim": "pair", "args": [ { "prim": "address" }, { "prim": "pair", "args": [ { "prim": "address" }, { "prim": "nat" } ] } ] }, { "prim": "unit" }<br>                              ]<br>                            }<br>                          ]<br>                        },<br>                        {<br>                          "prim": "pair",<br>                          "args": [<br>                            { "prim": "bool" },<br>                            {<br>                              "prim": "big_map",<br>                              "args": [<br>                                { "prim": "nat" }, { "prim": "pair", "args": [ { "prim": "nat" }, { "prim": "map", "args": [ { "prim": "string" }, { "prim": "bytes" } ] } ] }<br>                              ]<br>                            }<br>                          ]<br>                        }<br>                      ]<br>                    }<br>                  ]<br>                }<br>              ]<br>            }<br>          ]<br>        },<br>        { "prim": "UNPAIR" },<br>        {<br>          "prim": "IF_LEFT",<br>          "args": [<br>            [<br>              {<br>                "prim": "IF_LEFT",<br>                "args": [<br>                  [<br>                    { "prim": "SWAP" },<br>                    { "prim": "DUP" },<br>                    { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                    { "prim": "GET", "args": [ { "int": "5" } ] },<br>                    { "prim": "IF", "args": [ [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "FA2_PAUSED" } ] }, { "prim": "FAILWITH" } ], [] ] },<br>                    { "prim": "DUP" },<br>                    { "prim": "CAR" },<br>                    {<br>                      "prim": "MAP",<br>                      "args": [<br>                        [<br>                          { "prim": "DUP", "args": [ { "int": "3" } ] },<br>                          { "prim": "GET", "args": [ { "int": "6" } ] },<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                          { "prim": "CDR" },<br>                          { "prim": "MEM" },<br>                          { "prim": "IF", "args": [ [], [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "FA2_TOKEN_UNDEFINED" } ] }, { "prim": "FAILWITH" } ] ] },<br>                          { "prim": "DUP", "args": [ { "int": "3" } ] },<br>                          { "prim": "CAR" },<br>                          { "prim": "GET", "args": [ { "int": "4" } ] },<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "CDR" },<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "DUG", "args": [ { "int": "3" } ] },<br>                          { "prim": "CAR" },<br>                          { "prim": "PAIR" },<br>                          { "prim": "MEM" },<br>                          {<br>                            "prim": "IF",<br>                            "args": [<br>                              [<br>                                { "prim": "DUP", "args": [ { "int": "3" } ] },<br>                                { "prim": "CAR" },<br>                                { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                { "prim": "SWAP" },<br>                                { "prim": "DUP" },<br>                                { "prim": "CDR" },<br>                                { "prim": "SWAP" },<br>                                { "prim": "DUP" },<br>                                { "prim": "DUG", "args": [ { "int": "3" } ] },<br>                                { "prim": "CAR" },<br>                                { "prim": "PAIR" },<br>                                { "prim": "GET" },<br>                                { "prim": "IF_NONE", "args": [ [ { "prim": "PUSH", "args": [ { "prim": "int" }, { "int": "474" } ] }, { "prim": "FAILWITH" } ], [] ] },<br>                                { "prim": "SWAP" },<br>                                { "prim": "PAIR" }<br>                              ],<br>                              [ { "prim": "PUSH", "args": [ { "prim": "nat" }, { "int": "0" } ] }, { "prim": "SWAP" }, { "prim": "PAIR" } ]<br>                            ]<br>                          }<br>                        ]<br>                      ]<br>                    },<br>                    { "prim": "NIL", "args": [ { "prim": "operation" } ] },<br>                    { "prim": "DIG", "args": [ { "int": "2" } ] },<br>                    { "prim": "CDR" },<br>                    { "prim": "PUSH", "args": [ { "prim": "mutez" }, { "int": "0" } ] },<br>                    { "prim": "DIG", "args": [ { "int": "3" } ] },<br>                    { "prim": "TRANSFER_TOKENS" },<br>                    { "prim": "CONS" }<br>                  ],<br>                  [<br>                    {<br>                      "prim": "IF_LEFT",<br>                      "args": [<br>                        [<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                          { "prim": "CAR" },<br>                          { "prim": "GET", "args": [ { "int": "3" } ] },<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                          { "prim": "GET", "args": [ { "int": "4" } ] },<br>                          { "prim": "COMPARE" },<br>                          { "prim": "LT" },<br>                          {<br>                            "prim": "IF",<br>                            "args": [<br>                              [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "NFT-asset: cannot mint twice same token" } ] }, { "prim": "FAILWITH" } ], []<br>                            ]<br>                          },<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                          { "prim": "CAR" },<br>                          { "prim": "GET", "args": [ { "int": "4" } ] },<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "GET", "args": [ { "int": "4" } ] },<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "DUG", "args": [ { "int": "3" } ] },<br>                          { "prim": "CAR" },<br>                          { "prim": "CAR" },<br>                          { "prim": "PAIR" },<br>                          { "prim": "MEM" },<br>                          {<br>                            "prim": "IF",<br>                            "args": [<br>                              [<br>                                { "prim": "SWAP" },<br>                                { "prim": "UNPAIR" },<br>                                { "prim": "UNPAIR" },<br>                                { "prim": "SWAP" },<br>                                { "prim": "UNPAIR" },<br>                                { "prim": "SWAP" },<br>                                { "prim": "DUP" },<br>                                { "prim": "DIG", "args": [ { "int": "5" } ] },<br>                                { "prim": "DUP" },<br>                                { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                { "prim": "SWAP" },<br>                                { "prim": "DUP" },<br>                                { "prim": "DUG", "args": [ { "int": "7" } ] },<br>                                { "prim": "CAR" },<br>                                { "prim": "CAR" },<br>                                { "prim": "PAIR" },<br>                                { "prim": "DUP" },<br>                                { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                                { "prim": "GET" },<br>                                { "prim": "IF_NONE", "args": [ [ { "prim": "PUSH", "args": [ { "prim": "int" }, { "int": "596" } ] }, { "prim": "FAILWITH" } ], [] ] },<br>                                { "prim": "DUP", "args": [ { "int": "7" } ] },<br>                                { "prim": "CAR" },<br>                                { "prim": "CDR" },<br>                                { "prim": "ADD" },<br>                                { "prim": "SOME" },<br>                                { "prim": "SWAP" },<br>                                { "prim": "UPDATE" },<br>                                { "prim": "SWAP" },<br>                                { "prim": "PAIR" },<br>                                { "prim": "SWAP" },<br>                                { "prim": "PAIR" },<br>                                { "prim": "PAIR" },<br>                                { "prim": "SWAP" }<br>                              ],<br>                              [<br>                                { "prim": "SWAP" },<br>                                { "prim": "UNPAIR" },<br>                                { "prim": "UNPAIR" },<br>                                { "prim": "SWAP" },<br>                                { "prim": "UNPAIR" },<br>                                { "prim": "SWAP" },<br>                                { "prim": "DUP", "args": [ { "int": "5" } ] },<br>                                { "prim": "CAR" },<br>                                { "prim": "CDR" },<br>                                { "prim": "SOME" },<br>                                { "prim": "DIG", "args": [ { "int": "5" } ] },<br>                                { "prim": "DUP" },<br>                                { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                { "prim": "SWAP" },<br>                                { "prim": "DUP" },<br>                                { "prim": "DUG", "args": [ { "int": "7" } ] },<br>                                { "prim": "CAR" },<br>                                { "prim": "CAR" },<br>                                { "prim": "PAIR" },<br>                                { "prim": "UPDATE" },<br>                                { "prim": "SWAP" },<br>                                { "prim": "PAIR" },<br>                                { "prim": "SWAP" },<br>                                { "prim": "PAIR" },<br>                                { "prim": "PAIR" },<br>                                { "prim": "SWAP" }<br>                              ]<br>                            ]<br>                          },<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                          { "prim": "CAR" },<br>                          { "prim": "GET", "args": [ { "int": "3" } ] },<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                          { "prim": "GET", "args": [ { "int": "4" } ] },<br>                          { "prim": "COMPARE" },<br>                          { "prim": "LT" },<br>                          {<br>                            "prim": "IF",<br>                            "args": [<br>                              [ { "prim": "DROP" } ],<br>                              [<br>                                { "prim": "DUP" },<br>                                { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                { "prim": "DUP", "args": [ { "int": "3" } ] },<br>                                { "prim": "CAR" },<br>                                { "prim": "GET", "args": [ { "int": "3" } ] },<br>                                { "prim": "COMPARE" },<br>                                { "prim": "EQ" },<br>                                {<br>                                  "prim": "IF",<br>                                  "args": [ [], [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "Token-IDs should be consecutive" } ] }, { "prim": "FAILWITH" } ] ]<br>                                },<br>                                { "prim": "SWAP" },<br>                                { "prim": "UNPAIR" },<br>                                { "prim": "UNPAIR" },<br>                                { "prim": "SWAP" },<br>                                { "prim": "CDR" },<br>                                { "prim": "PUSH", "args": [ { "prim": "nat" }, { "int": "1" } ] },<br>                                { "prim": "DUP", "args": [ { "int": "5" } ] },<br>                                { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                { "prim": "ADD" },<br>                                { "prim": "PAIR" },<br>                                { "prim": "SWAP" },<br>                                { "prim": "PAIR" },<br>                                { "prim": "PAIR" },<br>                                { "prim": "DUP" },<br>                                { "prim": "GET", "args": [ { "int": "6" } ] },<br>                                { "prim": "DIG", "args": [ { "int": "2" } ] },<br>                                { "prim": "DUP" },<br>                                { "prim": "GET", "args": [ { "int": "3" } ] },<br>                                { "prim": "SWAP" },<br>                                { "prim": "DUP" },<br>                                { "prim": "DUG", "args": [ { "int": "4" } ] },<br>                                { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                { "prim": "PAIR" },<br>                                { "prim": "SOME" },<br>                                { "prim": "DIG", "args": [ { "int": "3" } ] },<br>                                { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                { "prim": "UPDATE" },<br>                                { "prim": "UPDATE", "args": [ { "int": "6" } ] }<br>                              ]<br>                            ]<br>                          }<br>                        ],<br>                        [<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                          { "prim": "CAR" },<br>                          { "prim": "CAR" },<br>                          { "prim": "SENDER" },<br>                          { "prim": "COMPARE" },<br>                          { "prim": "EQ" },<br>                          { "prim": "IF", "args": [ [], [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "FA2_NOT_ADMIN" } ] }, { "prim": "FAILWITH" } ] ] },<br>                          { "prim": "SWAP" },<br>                          { "prim": "UNPAIR" },<br>                          { "prim": "CDR" },<br>                          { "prim": "DIG", "args": [ { "int": "2" } ] },<br>                          { "prim": "PAIR" },<br>                          { "prim": "PAIR" }<br>                        ]<br>                      ]<br>                    },<br>                    { "prim": "NIL", "args": [ { "prim": "operation" } ] }<br>                  ]<br>                ]<br>              }<br>            ],<br>            [<br>              {<br>                "prim": "IF_LEFT",<br>                "args": [<br>                  [<br>                    {<br>                      "prim": "IF_LEFT",<br>                      "args": [<br>                        [<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                          { "prim": "CAR" },<br>                          { "prim": "CAR" },<br>                          { "prim": "SENDER" },<br>                          { "prim": "COMPARE" },<br>                          { "prim": "EQ" },<br>                          { "prim": "IF", "args": [ [], [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "FA2_NOT_ADMIN" } ] }, { "prim": "FAILWITH" } ] ] },<br>                          { "prim": "SWAP" },<br>                          { "prim": "UNPAIR" },<br>                          { "prim": "SWAP" },<br>                          { "prim": "UNPAIR" },<br>                          { "prim": "UNPAIR" },<br>                          { "prim": "DUP", "args": [ { "int": "5" } ] },<br>                          { "prim": "CDR" },<br>                          { "prim": "SOME" },<br>                          { "prim": "DIG", "args": [ { "int": "5" } ] },<br>                          { "prim": "CAR" },<br>                          { "prim": "UPDATE" },<br>                          { "prim": "PAIR" },<br>                          { "prim": "PAIR" },<br>                          { "prim": "SWAP" },<br>                          { "prim": "PAIR" }<br>                        ],<br>                        [<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                          { "prim": "CAR" },<br>                          { "prim": "CAR" },<br>                          { "prim": "SENDER" },<br>                          { "prim": "COMPARE" },<br>                          { "prim": "EQ" },<br>                          { "prim": "IF", "args": [ [], [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "FA2_NOT_ADMIN" } ] }, { "prim": "FAILWITH" } ] ] },<br>                          { "prim": "UPDATE", "args": [ { "int": "5" } ] }<br>                        ]<br>                      ]<br>                    }<br>                  ],<br>                  [<br>                    {<br>                      "prim": "IF_LEFT",<br>                      "args": [<br>                        [<br>                          { "prim": "SWAP" },<br>                          { "prim": "DUP" },<br>                          { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                          { "prim": "GET", "args": [ { "int": "5" } ] },<br>                          { "prim": "IF", "args": [ [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "FA2_PAUSED" } ] }, { "prim": "FAILWITH" } ], [] ] },<br>                          { "prim": "DUP" },<br>                          {<br>                            "prim": "ITER",<br>                            "args": [<br>                              [<br>                                { "prim": "DUP" },<br>                                { "prim": "CDR" },<br>                                {<br>                                  "prim": "ITER",<br>                                  "args": [<br>                                    [<br>                                      { "prim": "DUP", "args": [ { "int": "4" } ] },<br>                                      { "prim": "CAR" },<br>                                      { "prim": "CAR" },<br>                                      { "prim": "SENDER" },<br>                                      { "prim": "COMPARE" },<br>                                      { "prim": "EQ" },<br>                                      {<br>                                        "prim": "IF",<br>                                        "args": [<br>                                          [ { "prim": "PUSH", "args": [ { "prim": "bool" }, { "prim": "True" } ] } ],<br>                                          [ { "prim": "SENDER" }, { "prim": "DUP", "args": [ { "int": "3" } ] }, { "prim": "CAR" }, { "prim": "COMPARE" }, { "prim": "EQ" } ]<br>                                        ]<br>                                      },<br>                                      {<br>                                        "prim": "IF",<br>                                        "args": [<br>                                          [ { "prim": "PUSH", "args": [ { "prim": "bool" }, { "prim": "True" } ] } ],<br>                                          [<br>                                            { "prim": "DUP", "args": [ { "int": "4" } ] },<br>                                            { "prim": "GET", "args": [ { "int": "3" } ] },<br>                                            { "prim": "CDR" },<br>                                            { "prim": "SWAP" },<br>                                            { "prim": "DUP" },<br>                                            { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                                            { "prim": "GET", "args": [ { "int": "3" } ] },<br>                                            { "prim": "SENDER" },<br>                                            { "prim": "DUP", "args": [ { "int": "5" } ] },<br>                                            { "prim": "CAR" },<br>                                            { "prim": "PAIR", "args": [ { "int": "3" } ] },<br>                                            { "prim": "MEM" }<br>                                          ]<br>                                        ]<br>                                      },<br>                                      {<br>                                        "prim": "IF",<br>                                        "args": [ [], [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "FA2_NOT_OPERATOR" } ] }, { "prim": "FAILWITH" } ] ]<br>                                      },<br>                                      { "prim": "DUP", "args": [ { "int": "4" } ] },<br>                                      { "prim": "GET", "args": [ { "int": "6" } ] },<br>                                      { "prim": "SWAP" },<br>                                      { "prim": "DUP" },<br>                                      { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                                      { "prim": "GET", "args": [ { "int": "3" } ] },<br>                                      { "prim": "MEM" },<br>                                      {<br>                                        "prim": "IF",<br>                                        "args": [ [], [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "FA2_TOKEN_UNDEFINED" } ] }, { "prim": "FAILWITH" } ] ]<br>                                      },<br>                                      { "prim": "DUP" },<br>                                      { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                      { "prim": "PUSH", "args": [ { "prim": "nat" }, { "int": "0" } ] },<br>                                      { "prim": "COMPARE" },<br>                                      { "prim": "LT" },<br>                                      {<br>                                        "prim": "IF",<br>                                        "args": [<br>                                          [<br>                                            { "prim": "DUP" },<br>                                            { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                            { "prim": "DUP", "args": [ { "int": "5" } ] },<br>                                            { "prim": "CAR" },<br>                                            { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                            { "prim": "DUP", "args": [ { "int": "3" } ] },<br>                                            { "prim": "GET", "args": [ { "int": "3" } ] },<br>                                            { "prim": "DUP", "args": [ { "int": "5" } ] },<br>                                            { "prim": "CAR" },<br>                                            { "prim": "PAIR" },<br>                                            { "prim": "GET" },<br>                                            { "prim": "IF_NONE", "args": [ [ { "prim": "PUSH", "args": [ { "prim": "int" }, { "int": "450" } ] }, { "prim": "FAILWITH" } ], [] ] },<br>                                            { "prim": "COMPARE" },<br>                                            { "prim": "GE" },<br>                                            {<br>                                              "prim": "IF",<br>                                              "args": [<br>                                                [], [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "FA2_INSUFFICIENT_BALANCE" } ] }, { "prim": "FAILWITH" } ]<br>                                              ]<br>                                            },<br>                                            { "prim": "DUP", "args": [ { "int": "4" } ] },<br>                                            { "prim": "UNPAIR" },<br>                                            { "prim": "UNPAIR" },<br>                                            { "prim": "SWAP" },<br>                                            { "prim": "UNPAIR" },<br>                                            { "prim": "SWAP" },<br>                                            { "prim": "DUP" },<br>                                            { "prim": "DUP", "args": [ { "int": "6" } ] },<br>                                            { "prim": "GET", "args": [ { "int": "3" } ] },<br>                                            { "prim": "DUP", "args": [ { "int": "8" } ] },<br>                                            { "prim": "CAR" },<br>                                            { "prim": "PAIR" },<br>                                            { "prim": "DUP" },<br>                                            { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                                            { "prim": "GET" },<br>                                            {<br>                                              "prim": "IF_NONE",<br>                                              "args": [ [ { "prim": "PUSH", "args": [ { "prim": "int" }, { "int": "453" } ] }, { "prim": "FAILWITH" } ], [ { "prim": "DROP" } ] ]<br>                                            },<br>                                            { "prim": "DUP", "args": [ { "int": "6" } ] },<br>                                            { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                            { "prim": "DIG", "args": [ { "int": "9" } ] },<br>                                            { "prim": "CAR" },<br>                                            { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                            { "prim": "DUP", "args": [ { "int": "8" } ] },<br>                                            { "prim": "GET", "args": [ { "int": "3" } ] },<br>                                            { "prim": "DUP", "args": [ { "int": "10" } ] },<br>                                            { "prim": "CAR" },<br>                                            { "prim": "PAIR" },<br>                                            { "prim": "GET" },<br>                                            { "prim": "IF_NONE", "args": [ [ { "prim": "PUSH", "args": [ { "prim": "int" }, { "int": "454" } ] }, { "prim": "FAILWITH" } ], [] ] },<br>                                            { "prim": "SUB" },<br>                                            { "prim": "ISNAT" },<br>                                            { "prim": "IF_NONE", "args": [ [ { "prim": "PUSH", "args": [ { "prim": "int" }, { "int": "453" } ] }, { "prim": "FAILWITH" } ], [] ] },<br>                                            { "prim": "SOME" },<br>                                            { "prim": "SWAP" },<br>                                            { "prim": "UPDATE" },<br>                                            { "prim": "SWAP" },<br>                                            { "prim": "PAIR" },<br>                                            { "prim": "SWAP" },<br>                                            { "prim": "PAIR" },<br>                                            { "prim": "PAIR" },<br>                                            { "prim": "DUP" },<br>                                            { "prim": "DUG", "args": [ { "int": "4" } ] },<br>                                            { "prim": "CAR" },<br>                                            { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                            { "prim": "SWAP" },<br>                                            { "prim": "DUP" },<br>                                            { "prim": "GET", "args": [ { "int": "3" } ] },<br>                                            { "prim": "SWAP" },<br>                                            { "prim": "DUP" },<br>                                            { "prim": "DUG", "args": [ { "int": "3" } ] },<br>                                            { "prim": "CAR" },<br>                                            { "prim": "PAIR" },<br>                                            { "prim": "MEM" },<br>                                            {<br>                                              "prim": "IF",<br>                                              "args": [<br>                                                [<br>                                                  { "prim": "DIG", "args": [ { "int": "3" } ] },<br>                                                  { "prim": "UNPAIR" },<br>                                                  { "prim": "UNPAIR" },<br>                                                  { "prim": "SWAP" },<br>                                                  { "prim": "UNPAIR" },<br>                                                  { "prim": "SWAP" },<br>                                                  { "prim": "DUP" },<br>                                                  { "prim": "DIG", "args": [ { "int": "5" } ] },<br>                                                  { "prim": "DUP" },<br>                                                  { "prim": "GET", "args": [ { "int": "3" } ] },<br>                                                  { "prim": "SWAP" },<br>                                                  { "prim": "DUP" },<br>                                                  { "prim": "DUG", "args": [ { "int": "7" } ] },<br>                                                  { "prim": "CAR" },<br>                                                  { "prim": "PAIR" },<br>                                                  { "prim": "DUP" },<br>                                                  { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                                                  { "prim": "GET" },<br>                                                  {<br>                                                    "prim": "IF_NONE",<br>                                                    "args": [ [ { "prim": "PUSH", "args": [ { "prim": "int" }, { "int": "456" } ] }, { "prim": "FAILWITH" } ], [] ]<br>                                                  },<br>                                                  { "prim": "DIG", "args": [ { "int": "6" } ] },<br>                                                  { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                                  { "prim": "ADD" },<br>                                                  { "prim": "SOME" },<br>                                                  { "prim": "SWAP" },<br>                                                  { "prim": "UPDATE" },<br>                                                  { "prim": "SWAP" },<br>                                                  { "prim": "PAIR" },<br>                                                  { "prim": "SWAP" },<br>                                                  { "prim": "PAIR" },<br>                                                  { "prim": "PAIR" },<br>                                                  { "prim": "DUG", "args": [ { "int": "2" } ] }<br>                                                ],<br>                                                [<br>                                                  { "prim": "DIG", "args": [ { "int": "3" } ] },<br>                                                  { "prim": "UNPAIR" },<br>                                                  { "prim": "UNPAIR" },<br>                                                  { "prim": "SWAP" },<br>                                                  { "prim": "UNPAIR" },<br>                                                  { "prim": "SWAP" },<br>                                                  { "prim": "DUP", "args": [ { "int": "5" } ] },<br>                                                  { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                                  { "prim": "SOME" },<br>                                                  { "prim": "DIG", "args": [ { "int": "5" } ] },<br>                                                  { "prim": "DUP" },<br>                                                  { "prim": "GET", "args": [ { "int": "3" } ] },<br>                                                  { "prim": "SWAP" },<br>                                                  { "prim": "CAR" },<br>                                                  { "prim": "PAIR" },<br>                                                  { "prim": "UPDATE" },<br>                                                  { "prim": "SWAP" },<br>                                                  { "prim": "PAIR" },<br>                                                  { "prim": "SWAP" },<br>                                                  { "prim": "PAIR" },<br>                                                  { "prim": "PAIR" },<br>                                                  { "prim": "DUG", "args": [ { "int": "2" } ] }<br>                                                ]<br>                                              ]<br>                                            }<br>                                          ],<br>                                          [ { "prim": "DROP" } ]<br>                                        ]<br>                                      }<br>                                    ]<br>                                  ]<br>                                },<br>                                { "prim": "DROP" }<br>                              ]<br>                            ]<br>                          },<br>                          { "prim": "DROP" }<br>                        ],<br>                        [<br>                          { "prim": "DUP" },<br>                          {<br>                            "prim": "ITER",<br>                            "args": [<br>                              [<br>                                {<br>                                  "prim": "IF_LEFT",<br>                                  "args": [<br>                                    [<br>                                      { "prim": "DUP" },<br>                                      { "prim": "CAR" },<br>                                      { "prim": "SENDER" },<br>                                      { "prim": "COMPARE" },<br>                                      { "prim": "EQ" },<br>                                      {<br>                                        "prim": "IF",<br>                                        "args": [<br>                                          [ { "prim": "PUSH", "args": [ { "prim": "bool" }, { "prim": "True" } ] } ],<br>                                          [<br>                                            { "prim": "DUP", "args": [ { "int": "3" } ] },<br>                                            { "prim": "CAR" },<br>                                            { "prim": "CAR" },<br>                                            { "prim": "SENDER" },<br>                                            { "prim": "COMPARE" },<br>                                            { "prim": "EQ" }<br>                                          ]<br>                                        ]<br>                                      },<br>                                      {<br>                                        "prim": "IF",<br>                                        "args": [ [], [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "FA2_NOT_ADMIN_OR_OPERATOR" } ] }, { "prim": "FAILWITH" } ] ]<br>                                      },<br>                                      { "prim": "DIG", "args": [ { "int": "2" } ] },<br>                                      { "prim": "UNPAIR" },<br>                                      { "prim": "SWAP" },<br>                                      { "prim": "UNPAIR" },<br>                                      { "prim": "UNPAIR" },<br>                                      { "prim": "SWAP" },<br>                                      { "prim": "PUSH", "args": [ { "prim": "option", "args": [ { "prim": "unit" } ] }, { "prim": "Some", "args": [ { "prim": "Unit" } ] } ] },<br>                                      { "prim": "DIG", "args": [ { "int": "5" } ] },<br>                                      { "prim": "DUP" },<br>                                      { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                      { "prim": "SWAP" },<br>                                      { "prim": "DUP" },<br>                                      { "prim": "GET", "args": [ { "int": "3" } ] },<br>                                      { "prim": "SWAP" },<br>                                      { "prim": "CAR" },<br>                                      { "prim": "PAIR", "args": [ { "int": "3" } ] },<br>                                      { "prim": "UPDATE" },<br>                                      { "prim": "SWAP" },<br>                                      { "prim": "PAIR" },<br>                                      { "prim": "PAIR" },<br>                                      { "prim": "SWAP" },<br>                                      { "prim": "PAIR" },<br>                                      { "prim": "SWAP" }<br>                                    ],<br>                                    [<br>                                      { "prim": "DUP" },<br>                                      { "prim": "CAR" },<br>                                      { "prim": "SENDER" },<br>                                      { "prim": "COMPARE" },<br>                                      { "prim": "EQ" },<br>                                      {<br>                                        "prim": "IF",<br>                                        "args": [<br>                                          [ { "prim": "PUSH", "args": [ { "prim": "bool" }, { "prim": "True" } ] } ],<br>                                          [<br>                                            { "prim": "DUP", "args": [ { "int": "3" } ] },<br>                                            { "prim": "CAR" },<br>                                            { "prim": "CAR" },<br>                                            { "prim": "SENDER" },<br>                                            { "prim": "COMPARE" },<br>                                            { "prim": "EQ" }<br>                                          ]<br>                                        ]<br>                                      },<br>                                      {<br>                                        "prim": "IF",<br>                                        "args": [ [], [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "FA2_NOT_ADMIN_OR_OPERATOR" } ] }, { "prim": "FAILWITH" } ] ]<br>                                      },<br>                                      { "prim": "DIG", "args": [ { "int": "2" } ] },<br>                                      { "prim": "UNPAIR" },<br>                                      { "prim": "SWAP" },<br>                                      { "prim": "UNPAIR" },<br>                                      { "prim": "UNPAIR" },<br>                                      { "prim": "SWAP" },<br>                                      { "prim": "NONE", "args": [ { "prim": "unit" } ] },<br>                                      { "prim": "DIG", "args": [ { "int": "5" } ] },<br>                                      { "prim": "DUP" },<br>                                      { "prim": "GET", "args": [ { "int": "4" } ] },<br>                                      { "prim": "SWAP" },<br>                                      { "prim": "DUP" },<br>                                      { "prim": "GET", "args": [ { "int": "3" } ] },<br>                                      { "prim": "SWAP" },<br>                                      { "prim": "CAR" },<br>                                      { "prim": "PAIR", "args": [ { "int": "3" } ] },<br>                                      { "prim": "UPDATE" },<br>                                      { "prim": "SWAP" },<br>                                      { "prim": "PAIR" },<br>                                      { "prim": "PAIR" },<br>                                      { "prim": "SWAP" },<br>                                      { "prim": "PAIR" },<br>                                      { "prim": "SWAP" }<br>                                    ]<br>                                  ]<br>                                }<br>                              ]<br>                            ]<br>                          },<br>                          { "prim": "DROP" }<br>                        ]<br>                      ]<br>                    }<br>                  ]<br>                ]<br>              },<br>              { "prim": "NIL", "args": [ { "prim": "operation" } ] }<br>            ]<br>          ]<br>        },<br>        { "prim": "PAIR" }<br>      ]<br>    ]<br>  }<br>]</div></div></div></div></div></div></div><div class='tabcontent' style='display: none;'><div metadata><div class='tabs'><div class='tab'><span class='title'>Metadata</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>metadata_base</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='meta_metadata_base0_4' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "version": "FA2-nft-no_totsup",<br>  "description": "This is a didactic reference implementation of FA2, a.k.a. TZIP-012, using SmartPy.\n\nThis particular contract uses the configuration named: FA2-nft-no_totsup.",<br>  "interfaces": [ "TZIP-012", "TZIP-016" ],<br>  "authors": [ "Seb Mondet <https://seb.mondet.org>" ],<br>  "homepage": "https://gitlab.com/smondet/fa2-smartpy",<br>  "views": [<br>    {<br>      "name": "get_balance",<br>      "pure": true,<br>      "description": "This is the `get_balance` view defined in TZIP-12.",<br>      "implementations": [<br>        {<br>          "michelsonStorageView": {<br>            "parameter": { "prim": "pair", "args": [ { "prim": "address", "annots": [ "%owner" ] }, { "prim": "nat", "annots": [ "%token_id" ] } ] },<br>            "returnType": { "prim": "nat" },<br>            "code": [<br>              { "prim": "UNPAIR" },<br>              { "prim": "SWAP" },<br>              { "prim": "DUP" },<br>              { "prim": "DUG", "args": [ { "int": "2" } ] },<br>              { "prim": "GET", "args": [ { "int": "6" } ] },<br>              { "prim": "SWAP" },<br>              { "prim": "DUP" },<br>              { "prim": "DUG", "args": [ { "int": "2" } ] },<br>              { "prim": "CDR" },<br>              { "prim": "MEM" },<br>              { "prim": "IF", "args": [ [], [ { "prim": "PUSH", "args": [ { "prim": "string" }, { "string": "FA2_TOKEN_UNDEFINED" } ] }, { "prim": "FAILWITH" } ] ] },<br>              { "prim": "SWAP" },<br>              { "prim": "CAR" },<br>              { "prim": "GET", "args": [ { "int": "4" } ] },<br>              { "prim": "SWAP" },<br>              { "prim": "GET" },<br>              { "prim": "IF_NONE", "args": [ [ { "prim": "PUSH", "args": [ { "prim": "int" }, { "int": "504" } ] }, { "prim": "FAILWITH" } ], [] ] }<br>            ]<br>          }<br>        }<br>      ]<br>    },<br>    {<br>      "name": "does_token_exist",<br>      "pure": true,<br>      "description": "Ask whether a token ID is exists.",<br>      "implementations": [<br>        {<br>          "michelsonStorageView": {<br>            "parameter": { "prim": "nat" },<br>            "returnType": { "prim": "bool" },<br>            "code": [ { "prim": "UNPAIR" }, { "prim": "SWAP" }, { "prim": "GET", "args": [ { "int": "6" } ] }, { "prim": "SWAP" }, { "prim": "MEM" } ]<br>          }<br>        }<br>      ]<br>    },<br>    {<br>      "name": "count_tokens",<br>      "pure": true,<br>      "description": "Get how many tokens are in this FA2 contract.\n        ",<br>      "implementations": [ { "michelsonStorageView": { "returnType": { "prim": "nat" }, "code": [ { "prim": "CAR" }, { "prim": "GET", "args": [ { "int": "3" } ] } ] } } ]<br>    },<br>    {<br>      "name": "all_tokens",<br>      "pure": true,<br>      "description": "\n            This view is specified (but optional) in the standard.\n\n            This contract is built with assume_consecutive_token_ids =\n            True, so we return a list constructed from the number of tokens.\n            ",<br>      "implementations": [<br>        {<br>          "michelsonStorageView": {<br>            "returnType": { "prim": "list", "args": [ { "prim": "nat" } ] },<br>            "code": [<br>              { "prim": "DUP" },<br>              { "prim": "CAR" },<br>              { "prim": "GET", "args": [ { "int": "3" } ] },<br>              { "prim": "NIL", "args": [ { "prim": "nat" } ] },<br>              { "prim": "SWAP" },<br>              { "prim": "PUSH", "args": [ { "prim": "nat" }, { "int": "0" } ] },<br>              { "prim": "DUP" },<br>              { "prim": "DUP", "args": [ { "int": "3" } ] },<br>              { "prim": "COMPARE" },<br>              { "prim": "GT" },<br>              {<br>                "prim": "LOOP",<br>                "args": [<br>                  [<br>                    { "prim": "DUP" },<br>                    { "prim": "DIG", "args": [ { "int": "3" } ] },<br>                    { "prim": "SWAP" },<br>                    { "prim": "CONS" },<br>                    { "prim": "DUG", "args": [ { "int": "2" } ] },<br>                    { "prim": "PUSH", "args": [ { "prim": "nat" }, { "int": "1" } ] },<br>                    { "prim": "ADD" },<br>                    { "prim": "DUP" },<br>                    { "prim": "DUP", "args": [ { "int": "3" } ] },<br>                    { "prim": "COMPARE" },<br>                    { "prim": "GT" }<br>                  ]<br>                ]<br>              },<br>              { "prim": "DROP", "args": [ { "int": "2" } ] },<br>              { "prim": "SWAP" },<br>              { "prim": "DROP" },<br>              { "prim": "NIL", "args": [ { "prim": "nat" } ] },<br>              { "prim": "SWAP" },<br>              { "prim": "ITER", "args": [ [ { "prim": "CONS" } ] ] }<br>            ]<br>          }<br>        }<br>      ]<br>    },<br>    {<br>      "name": "is_operator",<br>      "pure": true,<br>      "implementations": [<br>        {<br>          "michelsonStorageView": {<br>            "parameter": {<br>              "prim": "pair",<br>              "args": [<br>                { "prim": "address", "annots": [ "%owner" ] },<br>                { "prim": "pair", "args": [ { "prim": "address", "annots": [ "%operator" ] }, { "prim": "nat", "annots": [ "%token_id" ] } ] }<br>              ]<br>            },<br>            "returnType": { "prim": "bool" },<br>            "code": [<br>              { "prim": "UNPAIR" },<br>              { "prim": "SWAP" },<br>              { "prim": "GET", "args": [ { "int": "3" } ] },<br>              { "prim": "CDR" },<br>              { "prim": "SWAP" },<br>              { "prim": "DUP" },<br>              { "prim": "GET", "args": [ { "int": "4" } ] },<br>              { "prim": "SWAP" },<br>              { "prim": "DUP" },<br>              { "prim": "GET", "args": [ { "int": "3" } ] },<br>              { "prim": "SWAP" },<br>              { "prim": "CAR" },<br>              { "prim": "PAIR", "args": [ { "int": "3" } ] },<br>              { "prim": "MEM" }<br>            ]<br>          }<br>        }<br>      ]<br>    },<br>    {<br>      "name": "token_metadata",<br>      "pure": true,<br>      "description": "Get Token Metadata",<br>      "implementations": [<br>        {<br>          "michelsonStorageView": {<br>            "parameter": { "prim": "nat" },<br>            "returnType": {<br>              "prim": "pair",<br>              "args": [ { "prim": "nat", "annots": [ "%token_id" ] }, { "prim": "map", "args": [ { "prim": "string" }, { "prim": "bytes" } ], "annots": [ "%token_info" ] } ]<br>            },<br>            "code": [<br>              { "prim": "UNPAIR" },<br>              { "prim": "SWAP" },<br>              { "prim": "GET", "args": [ { "int": "6" } ] },<br>              { "prim": "SWAP" },<br>              { "prim": "GET" },<br>              { "prim": "IF_NONE", "args": [ [ { "prim": "PUSH", "args": [ { "prim": "int" }, { "int": "620" } ] }, { "prim": "FAILWITH" } ], [] ] }<br>            ]<br>          }<br>        }<br>      ]<br>    }<br>  ],<br>  "source": { "tools": [ "SmartPy" ], "location": "https://gitlab.com/smondet/fa2-smartpy.git" },<br>  "permissions": { "operator": "owner-or-operator-transfer", "receiver": "owner-no-hook", "sender": "owner-no-hook" },<br>  "fa2-smartpy": {<br>    "configuration": {<br>      "add_mutez_transfer": false,<br>      "allow_self_transfer": false,<br>      "assume_consecutive_token_ids": true,<br>      "force_layouts": true,<br>      "lazy_entry_points": false,<br>      "name": "FA2-nft-no_totsup",<br>      "non_fungible": true,<br>      "readable": true,<br>      "single_asset": false,<br>      "store_total_supply": false,<br>      "support_operator": true,<br>      "use_token_metadata_offchain_view": true<br>    }<br>  }<br>}</div></div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<span id='label5'></span>
<h2>Initial Minting</h2>

<p>The administrator mints 100 token-0's to Alice.</p>

<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='mint'>Mint</option></select><table class='recordList'><tr><td class='dataColumn'>Address</td>
<td class='dataColumn'>Amount</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='50' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='50' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(789)'>line 789</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Left (Right (Left (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 50) (Pair {Elt "" 0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f} 0)))))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Left",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            {<br>              "prim": "Pair",<br>              "args": [<br>                { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "int": "50" } ] },<br>                {<br>                  "prim": "Pair",<br>                  "args": [<br>                    [<br>                      {<br>                        "prim": "Elt",<br>                        "args": [<br>                          { "string": "" },<br>                          {<br>                            "bytes": "68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f"<br>                          }<br>                        ]<br>                      }<br>                    ],<br>                    { "int": "0" }<br>                  ]<br>                }<br>              ]<br>            }<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='mint'>Mint</option></select><table class='recordList'><tr><td class='dataColumn'>Address</td>
<td class='dataColumn'>Amount</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='50' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='50' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='50' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(795)'>line 795</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Left (Right (Left (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 50) (Pair {Elt "decimals" 0x32; Elt "name" 0x54686520546f6b656e205a65726f; Elt "symbol" 0x544b30} 1)))))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Left",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            {<br>              "prim": "Pair",<br>              "args": [<br>                { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "int": "50" } ] },<br>                {<br>                  "prim": "Pair",<br>                  "args": [<br>                    [<br>                      { "prim": "Elt", "args": [ { "string": "decimals" }, { "bytes": "32" } ] },<br>                      { "prim": "Elt", "args": [ { "string": "name" }, { "bytes": "54686520546f6b656e205a65726f" } ] },<br>                      { "prim": "Elt", "args": [ { "string": "symbol" }, { "bytes": "544b30" } ] }<br>                    ],<br>                    { "int": "1" }<br>                  ]<br>                }<br>              ]<br>            }<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<span id='label9'></span>
<h2>Transfers Alice -> Bob</h2>

<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='transfer'>Transfer</option></select><table class='recordList'><tr><td class='dataColumn'>From_</td>
<td class='dataColumn'>Txs</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>10</td><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'>0</td></tr></table></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='10' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='40' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='50' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(800)'>line 800</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Left {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" (Pair 0 10)}})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            [<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" },<br>                  [ { "prim": "Pair", "args": [ { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "prim": "Pair", "args": [ { "int": "0" }, { "int": "10" } ] } ] } ]<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>


<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='transfer'>Transfer</option></select><table class='recordList'><tr><td class='dataColumn'>From_</td>
<td class='dataColumn'>Txs</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>10</td><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'>0</td></tr>
<tr><td class='data'>11</td><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'>0</td></tr></table></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='31' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='19' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='50' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(813)'>line 813</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Left {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" (Pair 0 10); Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" (Pair 0 11)}})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            [<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" },<br>                  [<br>                    { "prim": "Pair", "args": [ { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "prim": "Pair", "args": [ { "int": "0" }, { "int": "10" } ] } ] },<br>                    { "prim": "Pair", "args": [ { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "prim": "Pair", "args": [ { "int": "0" }, { "int": "11" } ] } ] }<br>                  ]<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>


<span id='label16'></span>
<h2>More Token Types</h2>

<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='mint'>Mint</option></select><table class='recordList'><tr><td class='dataColumn'>Address</td>
<td class='dataColumn'>Amount</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='100' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='31' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='19' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='50' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(839)'>line 839</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Left (Right (Left (Pair (Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" 100) (Pair {Elt "decimals" 0x30; Elt "name" 0x546865205365636f6e6420546f6b656e; Elt "symbol" 0x544b31} 2)))))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Left",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            {<br>              "prim": "Pair",<br>              "args": [<br>                { "prim": "Pair", "args": [ { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "int": "100" } ] },<br>                {<br>                  "prim": "Pair",<br>                  "args": [<br>                    [<br>                      { "prim": "Elt", "args": [ { "string": "decimals" }, { "bytes": "30" } ] },<br>                      { "prim": "Elt", "args": [ { "string": "name" }, { "bytes": "546865205365636f6e6420546f6b656e" } ] },<br>                      { "prim": "Elt", "args": [ { "string": "symbol" }, { "bytes": "544b31" } ] }<br>                    ],<br>                    { "int": "2" }<br>                  ]<br>                }<br>              ]<br>            }<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='mint'>Mint</option></select><table class='recordList'><tr><td class='dataColumn'>Address</td>
<td class='dataColumn'>Amount</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='200' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='4' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='31' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></td><td class='data'><input type='text' value='200' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='19' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='50' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(847)'>line 847</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Left (Right (Left (Pair (Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" 200) (Pair {Elt "decimals" 0x30; Elt "name" 0x54686520546f6b656e204e756d626572205468726565; Elt "symbol" 0x544b32} 3)))))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Left",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            {<br>              "prim": "Pair",<br>              "args": [<br>                { "prim": "Pair", "args": [ { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "int": "200" } ] },<br>                {<br>                  "prim": "Pair",<br>                  "args": [<br>                    [<br>                      { "prim": "Elt", "args": [ { "string": "decimals" }, { "bytes": "30" } ] },<br>                      { "prim": "Elt", "args": [ { "string": "name" }, { "bytes": "54686520546f6b656e204e756d626572205468726565" } ] },<br>                      { "prim": "Elt", "args": [ { "string": "symbol" }, { "bytes": "544b32" } ] }<br>                    ],<br>                    { "int": "3" }<br>                  ]<br>                }<br>              ]<br>            }<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<span id='label19'></span>
<h2>Other Basic Permission Tests</h2>

<span id='label20'></span>
<h3>Bob cannot transfer Alice's tokens.</h3>

<div style='border: double; padding: 5px; margin-bottom: 10px'>Reverted transaction</br><div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageKO'><h3>Transaction [KO] by [<span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='transfer'>Transfer</option></select><table class='recordList'><tr><td class='dataColumn'>From_</td>
<td class='dataColumn'>Txs</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>10</td><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'>0</td></tr>
<tr><td class='data'>1</td><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'>0</td></tr></table></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Error:</h3>Wrong condition: <button class='text-button' onClick='showLine(435)'>(((sp.sender == self.data.administrator) | (transfer.from_ == sp.sender)) | (self.data.operators.contains(sp.set_type_expr(sp.record(owner = transfer.from_, operator = sp.sender, token_id = tx.token_id), sp.TRecord(operator = sp.TAddress, owner = sp.TAddress, token_id = sp.TNat).layout(("owner", ("operator", "token_id")))))) : <span class='type'><span class='type'>sp.TBool</span></span>)</button><br>Message: 'FA2_NOT_OPERATOR'<br><button class='text-button' onClick='showLine(441)'> (./FA2.py, line 441)</button></div>(<button class='text-button' onClick='showLine(871)'>line 871</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Left {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" (Pair 0 10); Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" (Pair 0 1)}})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            [<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" },<br>                  [<br>                    { "prim": "Pair", "args": [ { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "prim": "Pair", "args": [ { "int": "0" }, { "int": "10" } ] } ] },<br>                    { "prim": "Pair", "args": [ { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "prim": "Pair", "args": [ { "int": "0" }, { "int": "1" } ] } ] }<br>                  ]<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div></div>
<span id='label22'></span>
<h3>Admin can transfer anything.</h3>

<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='transfer'>Transfer</option></select><table class='recordList'><tr><td class='dataColumn'>From_</td>
<td class='dataColumn'>Txs</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>10</td><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'>0</td></tr>
<tr><td class='data'>10</td><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'>1</td></tr></table></td></tr>
<tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>11</td><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'>0</td></tr></table></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='4' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='30' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='10' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></td><td class='data'><input type='text' value='200' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='20' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='40' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(883)'>line 883</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Left {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" (Pair 0 10); Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" (Pair 1 10)}; Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 0 11)}})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            [<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" },<br>                  [<br>                    { "prim": "Pair", "args": [ { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "prim": "Pair", "args": [ { "int": "0" }, { "int": "10" } ] } ] },<br>                    { "prim": "Pair", "args": [ { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "prim": "Pair", "args": [ { "int": "1" }, { "int": "10" } ] } ] }<br>                  ]<br>                ]<br>              },<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" },<br>                  [ { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "prim": "Pair", "args": [ { "int": "0" }, { "int": "11" } ] } ] } ]<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<span id='label24'></span>
<h3>Even Admin cannot transfer too much.</h3>

<div style='border: double; padding: 5px; margin-bottom: 10px'>Reverted transaction</br><div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageKO'><h3>Transaction [KO] by [<span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='transfer'>Transfer</option></select><table class='recordList'><tr><td class='dataColumn'>From_</td>
<td class='dataColumn'>Txs</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>1000</td><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'>0</td></tr></table></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Error:</h3>Wrong condition: <button class='text-button' onClick='showLine(450)'>(self.data.ledger[(sp.set_type_expr(transfer.from_, sp.TAddress), sp.set_type_expr(tx.token_id, sp.TNat))].balance >= tx.amount : <span class='type'><span class='type'>sp.TBool</span></span>)</button><br>Message: 'FA2_INSUFFICIENT_BALANCE'<br><button class='text-button' onClick='showLine(449)'> (./FA2.py, line 449)</button></div>(<button class='text-button' onClick='showLine(900)'>line 900</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Left {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" (Pair 0 1000)}})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            [<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" },<br>                  [ { "prim": "Pair", "args": [ { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "prim": "Pair", "args": [ { "int": "0" }, { "int": "1000" } ] } ] } ]<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div></div>
<span id='label26'></span>
<h3>Consumer Contract for Callback Calls.</h3>

<div class='tabs'><div class='tab'><span class='title'>Contract</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>SmartPy</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Types</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>Deploy Michelson Contract</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 3);'>&times;</button></div><div class='tabcontent' style='display: block;'><div class='contract'><h3>New contract: <span class='address'>KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF</span></h3><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3>
<h3>Storage:</h3>
<div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Last_sum</td>
<td class='dataColumn'>Operator_support</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'>False</td></tr></table></div>
<h3>Code:</h3>
import smartpy as sp
<br>
<br>class Contract(sp.Contract):
<br><div class='on'><span class='keyword'>def</span> __init__(self)<span class='keyword'>:</span><div class='indent5'>&nbsp;&nbsp;self.init_type(sp.TRecord(last_sum = sp.TNat, operator_support = sp.TBool).layout(("last_sum", "operator_support")))</div>
<div class='indent5'>&nbsp;&nbsp;self.init(<span class='variable'>last_sum</span> = 0,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='variable'>operator_support</span> = False)</div></div><br>
<br><div class='on'>
  @sp.entry_point
<br><span class='keyword'>def</span> receive_balances(<span class='self'>self</span>, params)<span class='keyword'>:</span><br><div class='indent5'>&nbsp;&nbsp;sp.set_type(params, sp.TList(sp.TRecord(balance = sp.TNat, request = sp.TRecord(owner = sp.TAddress, token_id = sp.TNat).layout(("owner", "token_id"))).layout(("request", "balance"))))
<br>&nbsp;&nbsp;<span class='self'>self</span>.data.last_sum = <span class='constant'>0</span>
<br>&nbsp;&nbsp;sp.for <span class='variable'>resp</span> in params:
<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='self'>self</span>.data.last_sum += <span class='variable'>resp</span>.balance</div></div>
<br><div class='on'>
  @sp.entry_point
<br><span class='keyword'>def</span> reinit(<span class='self'>self</span>)<span class='keyword'>:</span><br><div class='indent5'>&nbsp;&nbsp;<span class='self'>self</span>.data.last_sum = <span class='constant'>0</span></div></div>
<br>
<br>sp.add_compilation_target("test", Contract())</div><button class="text-button" onClick='showLine(910)'>(line 910)</button></div><div class='tabcontent' style='display: none;'><div class='contract'><h3>Storage:</h3><span class='type'><span class='record'>{</span><br>&nbsp;&nbsp;<span class='record'>last_sum</span>: sp.TNat;<br>&nbsp;&nbsp;<span class='record'>operator_support</span>: sp.TBool;<br><span class='record'>}.layout(("last_sum", "operator_support"))</span></span><p><h3>Entry points:</h3><span class='type'><span class='variant'>| receive_balances</span> sp.TList(&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>balance</span>: sp.TNat;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>request</span>: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>owner</span>: sp.TAddress;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>token_id</span>: sp.TNat;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>}.layout(("owner", "token_id"))</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='record'>}.layout(("request", "balance"))</span>)<br><span class='variant'>| reinit</span></span></div></div><div class='tabcontent' style='display: none;'><button class='centertextbutton extramarginbottom' onClick='smartpyContext.gotoOrigination(contractSizes1_27.innerHTML, storageCode1_27.innerText, contractCode1_27.innerText, storageCodeJson1_27.innerText, contractCodeJson1_27.innerText,storageCode1_27.innerHTML, contractCode1_27.innerHTML, storageCodeJson1_27.innerHTML, contractCodeJson1_27.innerHTML)'>Deploy Michelson Contract</button><div class='tabs'><div class='tab'><span class='title'>Generated Michelson:</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTabLazy(event, 0, 0);'>Sizes</button><button name='button_generatedMichelson' class='tablinks' onclick='openTabLazy(event, 1, 0);'>Storage</button><button name='button_generatedMichelson' class='tablinks' onclick='openTabLazy(event, 2, 0);'>Code</button><button name='button_generatedMichelson' class='tablinks' onclick='openTabLazy(event, 3, 0);'>Storage JSON</button><button name='button_generatedMichelson' class='tablinks' onclick='openTabLazy(event, 4, 0);'>Code JSON</button></div><div class='tabcontent' style='display: block;'><div ><h2>Sizes</h2><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='contractSizes1_27' class='michelson white-space-pre'><table><tr><td class='pad10'><span class='item'>Storage: </span></td><td class='pad10'><div class='progress' style='height: 20px; width: 150px;'><div class='progress-bar' style='width:0;' role='progressbar' style='aria-valuenow='10'></div></div></td><td class='pad10, code_right'>6 Bytes</td></tr><tr><td class='pad10'><span class='item'>Code: </span></td><td class='pad10'><div class='progress' style='height: 20px; width: 150px;'><div class='progress-bar' style='width:1;' role='progressbar' style='aria-valuenow='10'></div></div></td><td class='pad10, code_right'>230 Bytes</td></tr></table></div></div></div><div class='tabcontent' style='display: none;'><div ><h2>Initial Storage</h2><div ><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='storageCode1_27' class='michelson white-space-pre-wrap'>(Pair 0 False)</div></div></div></div><div class='tabcontent' style='display: none;'><div ><h2>Michelson Code</h2><div ><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='contractCode1_27' class='michelson white-space-pre'>parameter (or (list %receive_balances (pair (pair %request (address %owner) (nat %token_id)) (nat %balance))) (unit %reinit));<br>storage &nbsp;&nbsp;(pair (nat %last_sum) (bool %operator_support));<br><div class='michelsonLine'>code<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;UNPAIR;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@parameter : @storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;IF_LEFT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@storage : @parameter%receive_balances</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># == receive_balances ==</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.last_sum = 0</span> <span class='comment'>#</span> <span class='stack'>@storage : @parameter%receive_balances</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH nat 0; <span class='comment'>#</span> <span class='stack'>nat : @storage : @parameter%receive_balances</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE 1;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@storage : @parameter%receive_balances</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@parameter%receive_balances : @storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># for resp in params: ...</span> <span class='comment'>#</span> <span class='stack'>@parameter%receive_balances : @storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@parameter%receive_balances : @parameter%receive_balances : @storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITER<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.last_sum += resp.balance</span> <span class='comment'>#</span> <span class='stack'>pair (pair %request (address %owner) (nat %token_id)) (nat %balance) : @parameter%receive_balances : @storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@storage : pair (pair %request (address %owner) (nat %token_id)) (nat %balance) : @parameter%receive_balances</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DUP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@storage : @storage : pair (pair %request (address %owner) (nat %token_id)) (nat %balance) : @parameter%receive_balances</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : @storage : pair (pair %request (address %owner) (nat %token_id)) (nat %balance) : @parameter%receive_balances</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIG 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (pair %request (address %owner) (nat %token_id)) (nat %balance) : nat : @storage : @parameter%receive_balances</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : nat : @storage : @parameter%receive_balances</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ADD;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>nat : @storage : @parameter%receive_balances</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE 1;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@storage : @parameter%receive_balances</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SWAP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@parameter%receive_balances : @storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>@parameter%receive_balances : @storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DROP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DROP;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># == reinit ==</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'># self.data.last_sum = 0</span> <span class='comment'>#</span> <span class='stack'>@storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUSH nat 0; <span class='comment'>#</span> <span class='stack'>nat : @storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UPDATE 1;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>@storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; <span class='comment'>#</span> <span class='stack'>@storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;NIL operation; <span class='comment'>#</span> <span class='stack'>list operation : @storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;PAIR;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class='comment'>#</span> <span class='stack'>pair (list operation) @storage</span><br>&nbsp;&nbsp;};</div></div></div></div></div><div class='tabcontent' style='display: none;'><div ><h2>Initial Storage</h2><div ><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='storageCodeJson1_27' class='michelson white-space-pre'><div class='white-space-pre'>{ "prim": "Pair", "args": [ { "int": "0" }, { "prim": "False" } ] }</div></div></div></div></div><div class='tabcontent' style='display: none;'><div ><h2>JSON Representation</h2><div ><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='contractCodeJson1_27' class='michelson white-space-pre'><div class='white-space-pre'>[<br>  { "prim": "storage", "args": [ { "prim": "pair", "args": [ { "prim": "nat", "annots": [ "%last_sum" ] }, { "prim": "bool", "annots": [ "%operator_support" ] } ] } ] },<br>  {<br>    "prim": "parameter",<br>    "args": [<br>      {<br>        "prim": "or",<br>        "args": [<br>          {<br>            "prim": "list",<br>            "args": [<br>              {<br>                "prim": "pair",<br>                "args": [<br>                  { "prim": "pair", "args": [ { "prim": "address", "annots": [ "%owner" ] }, { "prim": "nat", "annots": [ "%token_id" ] } ], "annots": [ "%request" ] },<br>                  { "prim": "nat", "annots": [ "%balance" ] }<br>                ]<br>              }<br>            ],<br>            "annots": [ "%receive_balances" ]<br>          },<br>          { "prim": "unit", "annots": [ "%reinit" ] }<br>        ]<br>      }<br>    ]<br>  },<br>  {<br>    "prim": "code",<br>    "args": [<br>      [<br>        { "prim": "UNPAIR" },<br>        {<br>          "prim": "IF_LEFT",<br>          "args": [<br>            [<br>              { "prim": "SWAP" },<br>              { "prim": "PUSH", "args": [ { "prim": "nat" }, { "int": "0" } ] },<br>              { "prim": "UPDATE", "args": [ { "int": "1" } ] },<br>              { "prim": "SWAP" },<br>              { "prim": "DUP" },<br>              {<br>                "prim": "ITER",<br>                "args": [<br>                  [<br>                    { "prim": "DIG", "args": [ { "int": "2" } ] },<br>                    { "prim": "DUP" },<br>                    { "prim": "CAR" },<br>                    { "prim": "DIG", "args": [ { "int": "2" } ] },<br>                    { "prim": "CDR" },<br>                    { "prim": "ADD" },<br>                    { "prim": "UPDATE", "args": [ { "int": "1" } ] },<br>                    { "prim": "SWAP" }<br>                  ]<br>                ]<br>              },<br>              { "prim": "DROP" }<br>            ],<br>            [ { "prim": "DROP" }, { "prim": "PUSH", "args": [ { "prim": "nat" }, { "int": "0" } ] }, { "prim": "UPDATE", "args": [ { "int": "1" } ] } ]<br>          ]<br>        },<br>        { "prim": "NIL", "args": [ { "prim": "operation" } ] },<br>        { "prim": "PAIR" }<br>      ]<br>    ]<br>  }<br>]</div></div></div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<p>Consumer virtual address: (("./FA2.py" 910) contract_address (("./FA2.py" 910) static_id 1) "")</p>

<span id='label29'></span>
<h2>Balance-of.</h2>

<div style='border: double; padding: 5px; margin-bottom: 10px'>Multiple operations</br><div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='balance_of'>Balance_of</option></select><table class='recordList'><tr><td class='dataColumn'>Requests</td>
<td class='dataColumn'>Callback</td></tr><tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'>0</td></tr>
<tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'>1</td></tr>
<tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'>2</td></tr></table></td><td class='data'>sp.contract(sp.TList(sp.TRecord(balance = sp.TNat, request = sp.TRecord(owner = sp.TAddress, token_id = sp.TNat).layout(("owner", "token_id"))).layout(("request", "balance"))), <span class='address'>KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF</span>).open_some()</td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><div class='operation'>Transfer <span class='token'>0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></span> to sp.contract(sp.TList(sp.TRecord(balance = sp.TNat, request = sp.TRecord(owner = sp.TAddress, token_id = sp.TNat).layout(("owner", "token_id"))).layout(("request", "balance"))), <span class='address'>KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF</span>).open_some()<br><table class='recordList'><tr><td class='dataColumn'>Balance</td>
<td class='dataColumn'>Request</td></tr><tr><td class='data'>20</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td></tr>
<tr><td class='data'>40</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td></tr>
<tr><td class='data'>0</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td></tr></table></div><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='4' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='30' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='10' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></td><td class='data'><input type='text' value='200' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='20' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='40' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(922)'>line 922</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Left (Left (Pair {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0; Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 1; Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 2} "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%receive_balances")))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Left",<br>  "args": [<br>    {<br>      "prim": "Left",<br>      "args": [<br>        {<br>          "prim": "Pair",<br>          "args": [<br>            [<br>              { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "int": "0" } ] },<br>              { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "int": "1" } ] },<br>              { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "int": "2" } ] }<br>            ],<br>            { "string": "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%receive_balances" }<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'>Follow-up-transfer: KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%receive_balances ([sp.record(request =...)<h3>Transaction [OK] by [<span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span>] at time [timestamp(0)] to <span class='address'>KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF</span></h3><div class='subtype'><select class='selection'><option value='receive_balances'>Receive_balances</option></select><table class='recordList'><tr><td class='dataColumn'>Balance</td>
<td class='dataColumn'>Request</td></tr><tr><td class='data'>20</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td></tr>
<tr><td class='data'>40</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td></tr>
<tr><td class='data'>0</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Last_sum</td>
<td class='dataColumn'>Operator_support</td></tr><tr><td class='data'><input type='text' value='60' readonly></input></td><td class='data'>False</td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(922)'>line 922</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Left {Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) 20; Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 1) 40; Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 2) 0})</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Left",<br>  "args": [<br>    [<br>      { "prim": "Pair", "args": [ { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "int": "0" } ] }, { "int": "20" } ] },<br>      { "prim": "Pair", "args": [ { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "int": "1" } ] }, { "int": "40" } ] },<br>      { "prim": "Pair", "args": [ { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "int": "2" } ] }, { "int": "0" } ] }<br>    ]<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div></div>
<span id='label31'></span>
<h2>Operators</h2>

<p>This version was compiled with operator support.</p>

<p>Calling 0 updates should work:</p>

<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='update_operators'>Update_operators</option></select><table class='recordList'><tr><td class='dataColumn'></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='4' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='30' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='10' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></td><td class='data'><input type='text' value='200' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='20' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='40' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(936)'>line 936</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Right {})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{ "prim": "Right", "args": [ { "prim": "Right", "args": [ { "prim": "Right", "args": [ [] ] } ] } ] }</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<span id='label35'></span>
<h3>Operator Accounts</h3>

<div class='execMessage'><table class='recordList'><tr><td class='dataColumn'>Seed</td>
<td class='dataColumn'>Address</td>
<td class='dataColumn'>Public_key</td>
<td class='dataColumn'>Public_key_hash</td>
<td class='dataColumn'>Secret_key</td></tr><tr><td class='data'>'Operator0'</td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><span class='key'>edpktgzCRsZfj6uXH15LD2XwkArxWwvmNnNTF6eDjdPfqUKyveoaer</span></td><td class='data'><span class='key'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><span class='key'>edskRqFqUWpPyaeb5QYo1fJinRTNVZS9kmCFK4P6k94pVVK1LCDMZCoX8jRw3DQnVBvnMdjGK8FnRsG7DQAoEDTsrRHL65jDWQ</span></td></tr>
<tr><td class='data'>'Operator1'</td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><span class='key'>edpkvZLUVyNYCrPdbXB19TFRRsHe7ts9NcSTQ2QEBJYkQb7dTBJBTK</span></td><td class='data'><span class='key'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><span class='key'>edskRprqNGi82LhYyVYf3m4yAydKjKed5L9Cnyn8hRUfP3g6tWU9ap3vbhSjRdvNoJjHFAc8NwY4dy2prWDPPewmHFjML7qYEE</span></td></tr>
<tr><td class='data'>'Operator2'</td><td class='data'><span class='address'>tz1XJSgPn4RXytGaaitxWVrsT9EdgR2atrRd</span></td><td class='data'><span class='key'>edpkuX5bR26yFgNy26YTZUHKQqouqM51ebSYUZyVqF7q9ZM8DgL6fP</span></td><td class='data'><span class='key'>tz1XJSgPn4RXytGaaitxWVrsT9EdgR2atrRd</span></td><td class='data'><span class='key'>edskRiUdGGTzaYHNWxmHnF1VicJbcBx8sqjAKnFfxLUgvaDzqk8jx3AW6WK2HGtLZW6YBFwK1T33eZn95qPuzU45j1CH86UVwK</span></td></tr></table></div>

<p>Admin can change Alice's operator.</p>

<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='update_operators'>Update_operators</option></select><table class='recordList'><tr><td class='dataColumn'></td></tr><tr><td class='data'><div class='subtype'><select class='selection'><option value='add_operator'>Add_operator</option></select><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></div></td></tr>
<tr><td class='data'><div class='subtype'><select class='selection'><option value='add_operator'>Add_operator</option></select><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></div></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='4' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='30' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='10' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></td><td class='data'><input type='text' value='200' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='20' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='40' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'></td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(943)'>line 943</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Right {Left (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair "tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw" 0)); Left (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair "tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw" 2))})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Right",<br>          "args": [<br>            [<br>              {<br>                "prim": "Left",<br>                "args": [<br>                  {<br>                    "prim": "Pair",<br>                    "args": [<br>                      { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "prim": "Pair", "args": [ { "string": "tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw" }, { "int": "0" } ] }<br>                    ]<br>                  }<br>                ]<br>              },<br>              {<br>                "prim": "Left",<br>                "args": [<br>                  {<br>                    "prim": "Pair",<br>                    "args": [<br>                      { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "prim": "Pair", "args": [ { "string": "tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw" }, { "int": "2" } ] }<br>                    ]<br>                  }<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<p>Operator1 cannot transfer Bob's tokens</p>

<div style='border: double; padding: 5px; margin-bottom: 10px'>Reverted transaction</br><div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageKO'><h3>Transaction [KO] by [<span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='transfer'>Transfer</option></select><table class='recordList'><tr><td class='dataColumn'>From_</td>
<td class='dataColumn'>Txs</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>2</td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'>1</td></tr></table></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Error:</h3>Wrong condition: <button class='text-button' onClick='showLine(435)'>(((sp.sender == self.data.administrator) | (transfer.from_ == sp.sender)) | (self.data.operators.contains(sp.set_type_expr(sp.record(owner = transfer.from_, operator = sp.sender, token_id = tx.token_id), sp.TRecord(operator = sp.TAddress, owner = sp.TAddress, token_id = sp.TNat).layout(("owner", ("operator", "token_id")))))) : <span class='type'><span class='type'>sp.TBool</span></span>)</button><br>Message: 'FA2_NOT_OPERATOR'<br><button class='text-button' onClick='showLine(441)'> (./FA2.py, line 441)</button></div>(<button class='text-button' onClick='showLine(966)'>line 966</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Left {Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" {Pair "tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw" (Pair 1 2)}})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            [<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" },<br>                  [ { "prim": "Pair", "args": [ { "string": "tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw" }, { "prim": "Pair", "args": [ { "int": "1" }, { "int": "2" } ] } ] } ]<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div></div>
<p>Operator2 cannot transfer Alice's tokens</p>

<div style='border: double; padding: 5px; margin-bottom: 10px'>Reverted transaction</br><div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageKO'><h3>Transaction [KO] by [<span class='address'>tz1XJSgPn4RXytGaaitxWVrsT9EdgR2atrRd</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='transfer'>Transfer</option></select><table class='recordList'><tr><td class='dataColumn'>From_</td>
<td class='dataColumn'>Txs</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>2</td><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'>1</td></tr></table></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Error:</h3>Wrong condition: <button class='text-button' onClick='showLine(435)'>(((sp.sender == self.data.administrator) | (transfer.from_ == sp.sender)) | (self.data.operators.contains(sp.set_type_expr(sp.record(owner = transfer.from_, operator = sp.sender, token_id = tx.token_id), sp.TRecord(operator = sp.TAddress, owner = sp.TAddress, token_id = sp.TNat).layout(("owner", ("operator", "token_id")))))) : <span class='type'><span class='type'>sp.TBool</span></span>)</button><br>Message: 'FA2_NOT_OPERATOR'<br><button class='text-button' onClick='showLine(441)'> (./FA2.py, line 441)</button></div>(<button class='text-button' onClick='showLine(975)'>line 975</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Left {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" (Pair 1 2)}})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            [<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" },<br>                  [ { "prim": "Pair", "args": [ { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "prim": "Pair", "args": [ { "int": "1" }, { "int": "2" } ] } ] } ]<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div></div>
<p>Alice can remove their operator</p>

<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='update_operators'>Update_operators</option></select><table class='recordList'><tr><td class='dataColumn'></td></tr><tr><td class='data'><div class='subtype'><select class='selection'><option value='remove_operator'>Remove_operator</option></select><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></div></td></tr>
<tr><td class='data'><div class='subtype'><select class='selection'><option value='remove_operator'>Remove_operator</option></select><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></div></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='4' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='30' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='10' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></td><td class='data'><input type='text' value='200' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='20' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='40' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'></td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(984)'>line 984</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Right {Right (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair "tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw" 0)); Right (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair "tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw" 0))})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Right",<br>          "args": [<br>            [<br>              {<br>                "prim": "Right",<br>                "args": [<br>                  {<br>                    "prim": "Pair",<br>                    "args": [<br>                      { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "prim": "Pair", "args": [ { "string": "tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw" }, { "int": "0" } ] }<br>                    ]<br>                  }<br>                ]<br>              },<br>              {<br>                "prim": "Right",<br>                "args": [<br>                  {<br>                    "prim": "Pair",<br>                    "args": [<br>                      { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "prim": "Pair", "args": [ { "string": "tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw" }, { "int": "0" } ] }<br>                    ]<br>                  }<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<p>Operator1 cannot transfer Alice's tokens any more</p>

<div style='border: double; padding: 5px; margin-bottom: 10px'>Reverted transaction</br><div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageKO'><h3>Transaction [KO] by [<span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='transfer'>Transfer</option></select><table class='recordList'><tr><td class='dataColumn'>From_</td>
<td class='dataColumn'>Txs</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>2</td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'>1</td></tr></table></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Error:</h3>Wrong condition: <button class='text-button' onClick='showLine(435)'>(((sp.sender == self.data.administrator) | (transfer.from_ == sp.sender)) | (self.data.operators.contains(sp.set_type_expr(sp.record(owner = transfer.from_, operator = sp.sender, token_id = tx.token_id), sp.TRecord(operator = sp.TAddress, owner = sp.TAddress, token_id = sp.TNat).layout(("owner", ("operator", "token_id")))))) : <span class='type'><span class='type'>sp.TBool</span></span>)</button><br>Message: 'FA2_NOT_OPERATOR'<br><button class='text-button' onClick='showLine(441)'> (./FA2.py, line 441)</button></div>(<button class='text-button' onClick='showLine(995)'>line 995</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Left {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {Pair "tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw" (Pair 1 2)}})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            [<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" },<br>                  [ { "prim": "Pair", "args": [ { "string": "tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw" }, { "prim": "Pair", "args": [ { "int": "1" }, { "int": "2" } ] } ] } ]<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div></div>
<p>Bob can add Operator0.</p>

<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='update_operators'>Update_operators</option></select><table class='recordList'><tr><td class='dataColumn'></td></tr><tr><td class='data'><div class='subtype'><select class='selection'><option value='add_operator'>Add_operator</option></select><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></div></td></tr>
<tr><td class='data'><div class='subtype'><select class='selection'><option value='add_operator'>Add_operator</option></select><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></div></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='4' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='30' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='10' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></td><td class='data'><input type='text' value='200' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='20' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='40' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'></td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(1004)'>line 1004</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Right {Left (Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" (Pair "tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u" 0)); Left (Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" (Pair "tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u" 1))})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Right",<br>          "args": [<br>            [<br>              {<br>                "prim": "Left",<br>                "args": [<br>                  {<br>                    "prim": "Pair",<br>                    "args": [<br>                      { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "prim": "Pair", "args": [ { "string": "tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u" }, { "int": "0" } ] }<br>                    ]<br>                  }<br>                ]<br>              },<br>              {<br>                "prim": "Left",<br>                "args": [<br>                  {<br>                    "prim": "Pair",<br>                    "args": [<br>                      { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "prim": "Pair", "args": [ { "string": "tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u" }, { "int": "1" } ] }<br>                    ]<br>                  }<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<p>Operator0 can transfer Bob's tokens '0' and '1'</p>

<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='transfer'>Transfer</option></select><table class='recordList'><tr><td class='dataColumn'>From_</td>
<td class='dataColumn'>Txs</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>1</td><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'>0</td></tr></table></td></tr>
<tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>1</td><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'>1</td></tr></table></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='4' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='29' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='9' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></td><td class='data'><input type='text' value='200' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='21' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='41' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'></td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(1015)'>line 1015</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Left {Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 0 1)}; Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 1 1)}})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            [<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" },<br>                  [ { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "prim": "Pair", "args": [ { "int": "0" }, { "int": "1" } ] } ] } ]<br>                ]<br>              },<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" },<br>                  [ { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "prim": "Pair", "args": [ { "int": "1" }, { "int": "1" } ] } ] } ]<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<p>Bob cannot add Operator0 for Alice's tokens.</p>

<div style='border: double; padding: 5px; margin-bottom: 10px'>Reverted transaction</br><div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageKO'><h3>Transaction [KO] by [<span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='update_operators'>Update_operators</option></select><table class='recordList'><tr><td class='dataColumn'></td></tr><tr><td class='data'><div class='subtype'><select class='selection'><option value='add_operator'>Add_operator</option></select><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></div></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Error:</h3>Wrong condition: <button class='text-button' onClick='showLine(519)'>((add_operator.owner == sp.sender) | (sp.sender == self.data.administrator) : <span class='type'><span class='type'>sp.TBool</span></span>)</button><br>Message: 'FA2_NOT_ADMIN_OR_OPERATOR'<br><button class='text-button' onClick='showLine(518)'> (./FA2.py, line 518)</button></div>(<button class='text-button' onClick='showLine(1029)'>line 1029</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Right {Left (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair "tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u" 0))})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Right",<br>          "args": [<br>            [<br>              {<br>                "prim": "Left",<br>                "args": [<br>                  {<br>                    "prim": "Pair",<br>                    "args": [<br>                      { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "prim": "Pair", "args": [ { "string": "tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u" }, { "int": "0" } ] }<br>                    ]<br>                  }<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div></div>
<p>Alice can also add Operator0 for their tokens 0.</p>

<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='update_operators'>Update_operators</option></select><table class='recordList'><tr><td class='dataColumn'></td></tr><tr><td class='data'><div class='subtype'><select class='selection'><option value='add_operator'>Add_operator</option></select><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></div></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='4' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='29' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='9' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></td><td class='data'><input type='text' value='200' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='21' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='41' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'></td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(1037)'>line 1037</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Right {Left (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair "tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u" 0))})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Right",<br>          "args": [<br>            [<br>              {<br>                "prim": "Left",<br>                "args": [<br>                  {<br>                    "prim": "Pair",<br>                    "args": [<br>                      { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "prim": "Pair", "args": [ { "string": "tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u" }, { "int": "0" } ] }<br>                    ]<br>                  }<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<p>Operator0 can now transfer Bob's and Alice's 0-tokens.</p>

<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='transfer'>Transfer</option></select><table class='recordList'><tr><td class='dataColumn'>From_</td>
<td class='dataColumn'>Txs</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>1</td><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'>0</td></tr></table></td></tr>
<tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>1</td><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'>0</td></tr></table></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='4' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='29' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='9' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></td><td class='data'><input type='text' value='200' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='21' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='41' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'></td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(1045)'>line 1045</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Left {Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 0 1)}; Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" (Pair 0 1)}})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            [<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" },<br>                  [ { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "prim": "Pair", "args": [ { "int": "0" }, { "int": "1" } ] } ] } ]<br>                ]<br>              },<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" },<br>                  [ { "prim": "Pair", "args": [ { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "prim": "Pair", "args": [ { "int": "0" }, { "int": "1" } ] } ] } ]<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<p>Bob adds Operator2 as second operator for 0-tokens.</p>

<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='update_operators'>Update_operators</option></select><table class='recordList'><tr><td class='dataColumn'></td></tr><tr><td class='data'><div class='subtype'><select class='selection'><option value='add_operator'>Add_operator</option></select><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1XJSgPn4RXytGaaitxWVrsT9EdgR2atrRd</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></div></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='4' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='29' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='9' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></td><td class='data'><input type='text' value='200' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='21' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='41' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1XJSgPn4RXytGaaitxWVrsT9EdgR2atrRd</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'></td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(1059)'>line 1059</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Right {Left (Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" (Pair "tz1XJSgPn4RXytGaaitxWVrsT9EdgR2atrRd" 0))})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Right",<br>          "args": [<br>            [<br>              {<br>                "prim": "Left",<br>                "args": [<br>                  {<br>                    "prim": "Pair",<br>                    "args": [<br>                      { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" }, { "prim": "Pair", "args": [ { "string": "tz1XJSgPn4RXytGaaitxWVrsT9EdgR2atrRd" }, { "int": "0" } ] }<br>                    ]<br>                  }<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<p>Operator0 and Operator2 can transfer Bob's 0-tokens.</p>

<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='transfer'>Transfer</option></select><table class='recordList'><tr><td class='dataColumn'>From_</td>
<td class='dataColumn'>Txs</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>1</td><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'>0</td></tr></table></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='4' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='28' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='9' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></td><td class='data'><input type='text' value='200' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='22' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='41' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1XJSgPn4RXytGaaitxWVrsT9EdgR2atrRd</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'></td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(1067)'>line 1067</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Left {Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 0 1)}})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            [<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" },<br>                  [ { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "prim": "Pair", "args": [ { "int": "0" }, { "int": "1" } ] } ] } ]<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<div class='tabs'><div class='tab'><span class='title'>Transaction</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Summary</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 2);'>X</button></div><div class='tabcontent' style='display: block;'><div class='execMessage execMessageOK'><h3>Transaction [OK] by [<span class='address'>tz1XJSgPn4RXytGaaitxWVrsT9EdgR2atrRd</span>] at time [timestamp(0)] to <span class='address'>KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1</span></h3><div class='subtype'><select class='selection'><option value='transfer'>Transfer</option></select><table class='recordList'><tr><td class='dataColumn'>From_</td>
<td class='dataColumn'>Txs</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Amount</td>
<td class='dataColumn'>To_</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'>1</td><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'>0</td></tr></table></td></tr></table></div><h3>Balance: 0.000000<img height=20 width=20 src='https://SmartPy.io/static/img/tezos.svg' alt='tz'/></h3><h3>Operations:</h3><h3>Storage:</h3><div class='subtype'><div id='storageDivInternal'><table class='recordList'><tr><td class='dataColumn'>Administrator</td>
<td class='dataColumn'>All_tokens</td>
<td class='dataColumn'>Ledger</td>
<td class='dataColumn'>Metadata</td>
<td class='dataColumn'>Operators</td>
<td class='dataColumn'>Paused</td>
<td class='dataColumn'>Token_metadata</td></tr><tr><td class='data'><span class='address'>tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w</span></td><td class='data'><input type='text' value='4' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Balance</td></tr><tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='27' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='9' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'><input type='text' value='100' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><input type='text' value='3' readonly></input></td></tr></table></td><td class='data'><input type='text' value='200' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'><input type='text' value='23' readonly></input></td></tr>
<tr><td class='data'><table class='recordList'><tr></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'><input type='text' value='41' readonly></input></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f6578616d706c652e636f6d</span></td></tr></table></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1XJSgPn4RXytGaaitxWVrsT9EdgR2atrRd</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='1' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1YwWQ4mN5bERtawS7md846BTZSTpTFAt6u</span></td><td class='data'><input type='text' value='0' readonly></input></td></tr></table></td><td class='data'></td></tr>
<tr><td class='data'><table class='recordList'><tr><td class='dataColumn'>Owner</td>
<td class='dataColumn'>Operator</td>
<td class='dataColumn'>Token_id</td></tr><tr><td class='data'><span class='address'>tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi</span></td><td class='data'><span class='address'>tz1Yy7DNgpD9Y34mW8jkYaXG4qfBqdSW72Gw</span></td><td class='data'><input type='text' value='2' readonly></input></td></tr></table></td><td class='data'></td></tr></table></td><td class='data'>False</td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Token_id</td>
<td class='dataColumn'>Token_info</td></tr><tr><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><input type='text' value='0' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>''</td><td class='data'><span class='bytes'>0x68747470733a2f2f697066732e696f2f697066732f626166797265696173376b7a3272796b7475333461667177683536706c746d333275787365636178736f6f746b6c776c7371757735676e337074712f6d657461646174612e6a736f6e2f</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><input type='text' value='1' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x32</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e205a65726f</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b30</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><input type='text' value='2' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x546865205365636f6e6420546f6b656e</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b31</span></td></tr></table></td></tr>
<tr><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><input type='text' value='3' readonly></input></td><td class='data'><table class='recordList'><tr><td class='dataColumn'>Key</td>
<td class='dataColumn'>Value</td></tr><tr><td class='data'>'decimals'</td><td class='data'><span class='bytes'>0x30</span></td></tr>
<tr><td class='data'>'name'</td><td class='data'><span class='bytes'>0x54686520546f6b656e204e756d626572205468726565</span></td></tr>
<tr><td class='data'>'symbol'</td><td class='data'><span class='bytes'>0x544b32</span></td></tr></table></td></tr></table></td></tr></table></div></div></div>(<button class='text-button' onClick='showLine(1075)'>line 1075</button>)</div><div class='tabcontent' style='display: none;'><div class='tabs'><div class='tab'><span class='title'>Generated Michelson</span><button name='button_generatedMichelson' class='tablinks active' onclick='openTab(event, 0);'>Parameter Michelson</button><button name='button_generatedMichelson' class='tablinks' onclick='openTab(event, 1);'>Parameter JSON</button></div><div class='tabcontent' style='display: block;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodetransaction_params' class='michelson white-space-pre-wrap'>(Right (Right (Left {Pair "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" {Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 0 1)}})))</div></div><div class='tabcontent' style='display: none;'><div class='menu'> <button onClick='copyMichelson(this);'>Copy</button></div><div id='paramsCodeJsontransaction_params_json' class='michelson white-space-pre'><div class='white-space-pre'>{<br>  "prim": "Right",<br>  "args": [<br>    {<br>      "prim": "Right",<br>      "args": [<br>        {<br>          "prim": "Left",<br>          "args": [<br>            [<br>              {<br>                "prim": "Pair",<br>                "args": [<br>                  { "string": "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" },<br>                  [ { "prim": "Pair", "args": [ { "string": "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" }, { "prim": "Pair", "args": [ { "int": "0" }, { "int": "1" } ] } ] } ]<br>                ]<br>              }<br>            ]<br>          ]<br>        }<br>      ]<br>    }<br>  ]<br>}</div></div></div></div></div><div class='tabcontent' style='display: none;'></div></div>
<p><li><a href='#label0'>FA2 Contract Name: FA2-nft-no_totsup</a><ul><li><a href='#label2'>Accounts</a><li><a href='#label5'>Initial Minting</a><li><a href='#label9'>Transfers Alice -> Bob</a><li><a href='#label16'>More Token Types</a><li><a href='#label19'>Other Basic Permission Tests</a><ul><li><a href='#label20'>Bob cannot transfer Alice's tokens.</a><li><a href='#label22'>Admin can transfer anything.</a><li><a href='#label24'>Even Admin cannot transfer too much.</a><li><a href='#label26'>Consumer Contract for Callback Calls.</a></ul><li><a href='#label29'>Balance-of.</a><li><a href='#label31'>Operators</a><ul><li><a href='#label35'>Operator Accounts</a></ul></ul></p>

</div></div></html>